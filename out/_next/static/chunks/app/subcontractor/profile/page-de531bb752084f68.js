(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6819],{32292:function(e,s,t){Promise.resolve().then(t.bind(t,34126))},16463:function(e,s,t){"use strict";var a=t(71169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},36037:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(57437),i=t(87138),l=t(66648),r=t(2265);function n(){let[e,s]=(0,r.useState)("");return(0,a.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,a.jsx)(i.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,a.jsx)(l.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,a.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Menu"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/subscription",children:"Free Trial"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/how-it-works",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Other"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/faq",children:"FAQs"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,a.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(l.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,a.jsx)(i.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,a.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,a.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,a.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,a.jsx)(i.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}t(62562)},41862:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(57437),i=t(66648),l=t(87138),r=t(16463);let n=[{href:"/subcontractor/edit-profile",label:"Edit Profile",icon:"/assets/img/icons/user.svg"},{href:"/subcontractor/change-password",label:"Change Password",icon:"/assets/img/icons/lock.svg"},{href:"/subcontractor/saved-listing",label:"Saved Listing",icon:"/assets/img/icons/saved.svg"},{href:"/subcontractor/my-subscription",label:"My Subscription",icon:"/assets/img/icons/subscription.svg"},{href:"/subcontractor/transaction-history",label:"Transaction History",icon:"/assets/img/icons/transactions.svg"}];function c(e){let{onLogout:s}=e,t=(0,r.usePathname)();return(0,a.jsxs)("div",{className:"sidebar",children:[(0,a.jsx)("div",{className:"main-wrapper bg-dark m-0",children:(0,a.jsx)("div",{className:"buttons-wrapper",children:n.map(e=>(0,a.jsxs)(l.default,{href:e.href,className:"custom-btn ".concat(t===e.href?"active":""),children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(i.default,{src:e.icon,width:20,height:20,alt:"".concat(e.label," Icon"),loading:"lazy"}),(0,a.jsx)("span",{className:"text-white",children:e.label})]}),(0,a.jsx)(i.default,{src:"/assets/img/icons/angle-right.svg",width:15,height:9,alt:"Arrow",style:{objectFit:"contain"},loading:"lazy"})]},e.href))})}),(0,a.jsx)("div",{className:"bottom-bar",children:(0,a.jsx)("div",{className:"buttons-wrapper",children:(0,a.jsxs)("button",{onClick:s||(()=>{}),className:"custom-btn bg-danger",style:{borderColor:"#DC2626"},children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(i.default,{src:"/assets/img/icons/logout.svg",width:20,height:20,alt:"Logout Icon",loading:"lazy"}),(0,a.jsx)("span",{className:"text-white",children:"Logout"})]}),(0,a.jsx)(i.default,{src:"/assets/img/icons/angle-right.svg",width:15,height:9,alt:"Arrow",style:{objectFit:"contain"},loading:"lazy"})]})})})]})}},34126:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var a=t(57437),i=t(66648),l=t(87138),r=t(16463),n=t(18148),c=t(36037);t(5360);var o=t(2265),d=t(41862);function m(){(0,r.usePathname)();let e=(0,r.useRouter)(),[s,t]=(0,o.useState)(!1),[m,h]=(0,o.useState)(null),[u,g]=(0,o.useState)(!0),[x,f]=(0,o.useState)(null),[p,j]=(0,o.useState)([]),[b,v]=(0,o.useState)(!0),[N,w]=(0,o.useState)(!1),y=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=document.createElement("div");t.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(t);let a=setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},4e3),i=t.querySelector(".btn-close");null==i||i.addEventListener("click",()=>{clearTimeout(a),t.parentNode&&t.parentNode.removeChild(t)})};(0,o.useEffect)(()=>{(async()=>{try{var e;let s=await fetch("".concat("https://api.ezsubcontractor.com/api/","data/specializations"),{headers:{Accept:"application/json"}});if(!s.ok)throw Error("HTTP ".concat(s.status));let t=await s.json(),a=[];Array.isArray(t)?a=t.map(e=>({id:String(e.id),name:e.name})):(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.specializations)&&Array.isArray(t.data.specializations)?a=t.data.specializations.map(e=>({id:String(e.id),name:e.name})):(null==t?void 0:t.data)&&Array.isArray(t.data)&&(a=t.data.map(e=>({id:String(e.id),name:e.name}))),j(a.length>0?a:[{id:"1",name:"Plumbing"},{id:"2",name:"Electric Work"},{id:"3",name:"Framing"},{id:"4",name:"Roofing"}])}catch(e){console.error("Failed to load categories:",e),j([{id:"1",name:"Plumbing"},{id:"2",name:"Electric Work"},{id:"3",name:"Framing"},{id:"4",name:"Roofing"}])}finally{v(!1)}})()},[]),(0,o.useEffect)(()=>{let s=localStorage.getItem("token");if(!s){g(!1),e.push("/auth/login");return}(async()=>{try{let e=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/get-profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}}),t=await e.json();e.ok?h({fullName:t.data.name||"",email:t.data.email||"",phone:t.data.phone||"",companyName:t.data.company_name||"",profile_image:t.data.profile_image||"/assets/img/profile-placeholder.webp",role:t.data.role||"",city:t.data.city||"",state:t.data.state||"",zipCode:t.data.zip||"",workRadius:t.data.work_radius||0,category:t.data.specialization?Number(t.data.specialization):null,average_rating:(parseFloat(t.data.average_rating)||0).toString(),total_ratings:t.data.total_ratings||0}):(f(t.message||"Failed to load profile"),y(t.message||"Failed to load profile","error"))}catch(s){console.error("Profile fetch error:",s);let e="Network error. Please try again.";f(e),y(e,"error")}finally{g(!1)}})()},[e]);let k=async()=>{t(!0);try{let s;let t=localStorage.getItem("token");if(!t){e.push("/auth/login");return}let a=await fetch("".concat("https://api.ezsubcontractor.com/api/","auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),i=await a.text();try{s=i?JSON.parse(i):{}}catch(e){s={message:i}}if(a.ok)localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),localStorage.removeItem("token"),localStorage.removeItem("subscription"),y("Logged out successfully!","success"),e.push("/auth/login");else{let e=(null==s?void 0:s.message)||"Logout failed";y(e,"error")}}catch(e){console.error("Logout Error:",e),y("Network error. Please try again.","error")}finally{t(!1)}},S=async()=>{let s=localStorage.getItem("token");if(!s){y("Authentication required.","error"),e.push("/auth/login");return}w(!0);try{let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/delete-profile"),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}}),a=await t.json();if(t.ok)y("Profile deleted successfully!","success"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),localStorage.removeItem("token"),localStorage.removeItem("subscription"),setTimeout(()=>{e.push("/auth/login")},1e3);else throw Error(a.message||"Failed to delete profile")}catch(e){console.error("Delete profile error:",e),y(e.message||"An error occurred while deleting your profile.","error")}finally{w(!1),document.getElementById("deleteAccountModal")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{}),(0,a.jsx)("div",{className:"sections overflow-hidden",children:(0,a.jsx)("section",{className:"banner-sec profile position-static",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsx)("div",{className:"col-xl-3",children:(0,a.jsx)(d.Z,{onLogout:k})}),(0,a.jsx)("div",{className:"col-xl-9",children:u||b&&!m?(0,a.jsx)("div",{className:"right-bar d-flex align-items-center justify-content-center",style:{height:"500px"},children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):x?(0,a.jsxs)("div",{className:"right-bar",children:[(0,a.jsx)("div",{className:"alert alert-danger mb-4",role:"alert",children:x}),(0,a.jsx)("button",{className:"btn btn-primary mt-3",onClick:()=>window.location.reload(),children:"Retry"})]}):m?(0,a.jsxs)("div",{className:"right-bar",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between flex-wrap mb-5",children:[(0,a.jsx)("div",{className:"icon-wrapper d-flex align-items-center gap-2",children:(0,a.jsx)("span",{className:"fs-4 fw-semibold",children:"Profile Details"})}),(0,a.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,a.jsx)(l.default,{href:"/subcontractor/edit-profile",className:"icon",children:(0,a.jsx)(i.default,{src:"/assets/img/icons/edit.svg",width:24,height:24,alt:"Edit Icon"})}),(0,a.jsx)("button",{type:"button",className:"icon delete border-0",onClick:()=>{{let e=document.getElementById("deleteAccountModal");e&&"bootstrap"in window&&new window.bootstrap.Modal(e).show()}},children:(0,a.jsx)(i.default,{src:"/assets/img/icons/delete.svg",width:24,height:24,alt:"Delete Profile"})})]})]}),(0,a.jsxs)("div",{className:"review-bar d-flex align-items-center justify-content-between gap-2 flex-wrap mb-5",children:[(0,a.jsxs)("div",{className:"image-box d-flex align-items-center gap-4",children:[(0,a.jsx)(i.default,{src:m.profile_image,className:"worker-img rounded-circle object-fit-cover",width:180,height:180,alt:"Worker Image",style:{objectFit:"cover"}}),(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"title fw-semibold fs-4 mb-2",children:m.fullName}),(0,a.jsx)("p",{className:"mb-1 text-gray-light text-capitalize",children:m.role}),(0,a.jsxs)("p",{className:"mb-1 text-gray-light",children:[m.city,", ",m.state," ",m.zipCode]})]})]}),(0,a.jsxs)("div",{className:"right d-flex align-items-center gap-4 flex-wrap",children:[(0,a.jsx)("div",{className:"rating-icons d-flex align-items-center gap-1 flex-wrap",children:(e=>{let s=parseFloat(e)||0;return[1,2,3,4,5].map((e,t)=>{let l=t+1,r=l<=Math.floor(s);return(0,a.jsx)(i.default,{src:r?"/assets/img/start1.svg":!r&&l<=s+.5?"/assets/img/star2.svg":"/assets/img/star-empty.svg",width:50,height:50,alt:"Star Icon",style:{width:"clamp(20px,5vw,50px)",height:"clamp(20px,5vw,50px)"}},t)})})(m.average_rating)}),(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"text-black text-center fs-3 fw-bold",children:[parseFloat(m.average_rating).toFixed(1),"/5"]})})]})]}),(0,a.jsxs)("div",{className:"review-bar",children:[(0,a.jsxs)("div",{className:"row g-2 mb-4",children:[(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Full Name"}),(0,a.jsx)("div",{className:"fw-semibold fs-18 text-truncate",children:m.fullName})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content text-truncate",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Company Name"}),(0,a.jsx)("div",{className:"fw-semibold fs-18 text-truncate",children:m.companyName})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Phone Number"}),(0,a.jsx)(l.default,{href:"tel:".concat(m.phone),className:"fw-semibold fs-18 text-dark text-truncate",children:m.phone})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content text-truncate",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Email Address"}),(0,a.jsx)(l.default,{href:"mailto:".concat(m.email),className:"fw-semibold fs-18 text-dark text-truncate",children:m.email})]})})]}),(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Category"}),(0,a.jsx)("div",{className:"d-flex align-items-center gap-2 flex-wrap mb-4",children:(0,a.jsx)("div",{className:"fw-semibold bg-dark text-white fs-14 px-2 py-1 rounded-1",children:(e=>{if(null===e)return"Not Set";let s=p.find(s=>s.id===String(e));return s?s.name:"Unknown"})(m.category)})}),(0,a.jsxs)("div",{className:"row g-2",children:[(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"City"}),(0,a.jsx)("div",{className:"fw-semibold fs-18",children:m.city})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"State"}),(0,a.jsx)("div",{className:"fw-semibold fs-18",children:m.state})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Zip Code"}),(0,a.jsx)("div",{className:"fw-semibold fs-18",children:m.zipCode})]})}),(0,a.jsx)("div",{className:"col-xl-3 col-sm-6",children:(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"text-gray-light fw-medium mb-2",children:"Work Radius"}),(0,a.jsxs)("div",{className:"fw-semibold fs-18",children:[m.workRadius," miles"]})]})})]})]})]}):(0,a.jsx)("div",{className:"right-bar text-center py-5",children:(0,a.jsx)("p",{children:"Profile not found."})})})]})})})}),(0,a.jsx)("div",{className:"modal fade",id:"deleteAccountModal",tabIndex:-1,"aria-labelledby":"deleteAccountModalLabel","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered",style:{maxWidth:"380px"},children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-body",children:[(0,a.jsx)("button",{type:"button",className:"btn-close position-absolute",style:{top:15,right:15},"data-bs-dismiss":"modal","aria-label":"Close"}),(0,a.jsx)(i.default,{src:"/assets/img/icons/delete-icon.svg",width:60,height:60,alt:"Delete Icon",className:"text-danger mb-2"}),(0,a.jsx)("h5",{className:"modal-title fw-bold mb-1",id:"deleteAccountModalLabel",children:"Delete Account"}),(0,a.jsx)("p",{children:"Are you sure you want to delete account?"})]}),(0,a.jsxs)("div",{className:"modal-footer border-0 gap-2 pt-0",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-outline-dark flex-grow-1 rounded-3","data-bs-dismiss":"modal",children:"Cancel"}),(0,a.jsx)("button",{type:"button",className:"btn btn-danger bg-danger text-white rounded-3 flex-grow-1 ".concat(N?"disabled":""),onClick:S,disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Deleting..."]}):"Delete"})]})]})})}),(0,a.jsx)(c.Z,{})]})}},62562:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,4974,8148,2971,7023,1744],function(){return e(e.s=32292)}),_N_E=e.O()}]);