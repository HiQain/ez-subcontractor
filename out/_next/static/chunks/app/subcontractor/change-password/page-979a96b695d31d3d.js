(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5823],{16352:function(e,s,t){Promise.resolve().then(t.bind(t,11130))},16463:function(e,s,t){"use strict";var a=t(71169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},36037:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(57437),r=t(87138),o=t(66648),n=t(2265);function i(){let[e,s]=(0,n.useState)("");return(0,a.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,a.jsx)(r.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,a.jsx)(o.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,a.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Menu"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/subscription",children:"Free Trial"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/how-it-works",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Other"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/faq",children:"FAQs"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,a.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(o.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,a.jsx)(r.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,a.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,a.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,a.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,a.jsx)(r.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}t(62562)},41862:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(57437),r=t(66648),o=t(87138),n=t(16463);let i=[{href:"/subcontractor/edit-profile",label:"Edit Profile",icon:"/assets/img/icons/user.svg"},{href:"/subcontractor/change-password",label:"Change Password",icon:"/assets/img/icons/lock.svg"},{href:"/subcontractor/saved-listing",label:"Saved Listing",icon:"/assets/img/icons/saved.svg"},{href:"/subcontractor/my-subscription",label:"My Subscription",icon:"/assets/img/icons/subscription.svg"},{href:"/subcontractor/transaction-history",label:"Transaction History",icon:"/assets/img/icons/transactions.svg"}];function l(e){let{onLogout:s}=e,t=(0,n.usePathname)();return(0,a.jsxs)("div",{className:"sidebar",children:[(0,a.jsx)("div",{className:"main-wrapper bg-dark m-0",children:(0,a.jsx)("div",{className:"buttons-wrapper",children:i.map(e=>(0,a.jsxs)(o.default,{href:e.href,className:"custom-btn ".concat(t===e.href?"active":""),children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(r.default,{src:e.icon,width:20,height:20,alt:"".concat(e.label," Icon"),loading:"lazy"}),(0,a.jsx)("span",{className:"text-white",children:e.label})]}),(0,a.jsx)(r.default,{src:"/assets/img/icons/angle-right.svg",width:15,height:9,alt:"Arrow",style:{objectFit:"contain"},loading:"lazy"})]},e.href))})}),(0,a.jsx)("div",{className:"bottom-bar",children:(0,a.jsx)("div",{className:"buttons-wrapper",children:(0,a.jsxs)("button",{onClick:s||(()=>{}),className:"custom-btn bg-danger",style:{borderColor:"#DC2626"},children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(r.default,{src:"/assets/img/icons/logout.svg",width:20,height:20,alt:"Logout Icon",loading:"lazy"}),(0,a.jsx)("span",{className:"text-white",children:"Logout"})]}),(0,a.jsx)(r.default,{src:"/assets/img/icons/angle-right.svg",width:15,height:9,alt:"Arrow",style:{objectFit:"contain"},loading:"lazy"})]})})})]})}},11130:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(57437),r=t(2265),o=t(66648),n=t(16463),i=t(18148),l=t(36037);t(5360);var c=t(41862);function d(){let[e,s]=(0,r.useState)(!1),[t,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[g,x]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[w,j]=(0,r.useState)(!1),[v,N]=(0,r.useState)(null),[y,k]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1);(0,n.usePathname)();let P=(0,n.useRouter)(),E=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=document.createElement("div");t.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(t);let a=setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},4e3),r=t.querySelector(".btn-close");null==r||r.addEventListener("click",()=>{clearTimeout(a),t.parentNode&&t.parentNode.removeChild(t)})},[z,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){P.push("/auth/login");return}(async()=>{try{let s=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/get-profile"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await s.json();s.ok&&t.data&&I({name:t.data.name||"N/A",email:t.data.email||"N/A",phone:t.data.phone||"N/A"})}catch(e){console.warn("Failed to load sidebar user info"),E("Failed to load user information.","error")}})()},[P]);let L=e=>{let{active:s}=e;return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"eye-icon ".concat(s?"active":""),children:[(0,a.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,a.jsx)("line",{className:"slash",x1:"2",y1:"2",x2:"22",y2:"22",style:{stroke:s?"none":"currentColor"}})]})},_=async e=>{if(e.preventDefault(),N(null),!h.trim()){E("Old password is required.","error");return}if(!g.trim()){E("New password is required.","error");return}if(g.length<6){E("New password must be at least 6 characters.","error");return}if(g!==f){E("New password and confirmation do not match.","error");return}let s=localStorage.getItem("token");if(!s){P.push("/auth/login");return}j(!0);try{let e;let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/change-password"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({old_password:h,new_password:g,password_confirmation:f})}),a=await t.text();try{e=a?JSON.parse(a):{}}catch(s){e={message:a||"Unknown error"}}t.ok?(E("Password updated successfully!"),setTimeout(()=>{localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),P.push("/auth/login")},1500)):E(e.message||"Failed to change password. Please try again.","error")}catch(e){console.error("Change password error:",e),E("Network error. Please check your connection and try again.","error")}finally{j(!1)}},F=async()=>{C(!0);try{let e;let s=localStorage.getItem("token");if(!s){P.push("/auth/login");return}let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}}),a=await t.text();try{e=a?JSON.parse(a):{}}catch(s){e={message:a}}t.ok?(localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),localStorage.removeItem("token"),localStorage.removeItem("subscription"),P.push("/auth/login")):alert((null==e?void 0:e.message)||"Logout failed")}catch(e){console.error("Logout Error:",e),alert("Network error. Please try again.")}finally{C(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("div",{className:"sections overflow-hidden",children:(0,a.jsx)("section",{className:"banner-sec profile position-static",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsx)("div",{className:"col-xl-3",children:(0,a.jsx)(c.Z,{onLogout:F})}),(0,a.jsx)("div",{className:"col-xl-9",children:(0,a.jsxs)("div",{style:{maxWidth:"482px"},className:"right-bar",children:[(0,a.jsx)("div",{className:"d-flex align-items-center gap-3 justify-content-between flex-wrap mb-5",children:(0,a.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>P.back(),className:"icon","aria-label":"Go back",children:(0,a.jsx)(o.default,{src:"/assets/img/button-angle.svg",width:10,height:15,alt:"Back"})}),(0,a.jsx)("span",{className:"fs-4 fw-semibold",children:"Change Password"})]})}),(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative mb-4",children:[(0,a.jsxs)("label",{htmlFor:"old_password",className:"mb-1 fw-semibold",children:["Old Password ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:e?"text":"password",id:"old_password",className:"form-control pe-5",placeholder:"Enter old password",value:h,onChange:e=>p(e.target.value),disabled:w}),(0,a.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>s(!e),children:(0,a.jsx)(L,{active:e})})]}),(0,a.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative mb-4",children:[(0,a.jsxs)("label",{htmlFor:"password",className:"mb-1 fw-semibold",children:["New Password ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:t?"text":"password",id:"password",className:"form-control pe-5",placeholder:"Enter new password",value:g,onChange:e=>x(e.target.value),disabled:w}),(0,a.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>d(!t),children:(0,a.jsx)(L,{active:t})})]}),(0,a.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative mb-4",children:[(0,a.jsxs)("label",{htmlFor:"confirm_password",className:"mb-1 fw-semibold",children:["Confirm Password ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:u?"text":"password",id:"confirm_password",className:"form-control pe-5",placeholder:"Enter confirm password",value:f,onChange:e=>b(e.target.value),disabled:w}),(0,a.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>m(!u),children:(0,a.jsx)(L,{active:u})})]}),(0,a.jsx)("div",{className:"buttons-wrapper d-flex align-items-center gap-4",children:(0,a.jsx)("input",{type:"submit",className:"btn btn-primary rounded-3 w-100",value:w?"Changing...":"Change Password",disabled:w})})]})]})})]})})})}),(0,a.jsx)(l.Z,{})]})}},62562:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,4974,8148,2971,7023,1744],function(){return e(e.s=16352)}),_N_E=e.O()}]);