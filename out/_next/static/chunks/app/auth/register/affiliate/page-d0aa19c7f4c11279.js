(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5461],{40361:function(e,s,a){Promise.resolve().then(a.bind(a,63362))},16463:function(e,s,a){"use strict";var t=a(71169);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},63362:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return l}});var t=a(57437);a(98135);var n=a(2265),r=a(87138),i=a(66648),o=a(16463);function l(){let e=(0,o.useRouter)(),s=(0,o.useParams)().type||"affiliate",a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=document.createElement("div");a.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,"</span>\n            </div>\n        "),document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},4e3)},[l,c]=(0,n.useState)({name:"User Test",email:"test_aff_1@gmail.com",phone:"(324) 342-3423",company_name:"ABC Corporation",password:"Password123",password_confirmation:"Password123",zip:"0",work_radius:"0",category:1}),[m,d]=(0,n.useState)(!1),[p,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),[w,b]=(0,n.useState)(!1),[j,N]=(0,n.useState)(""),[y,v]=(0,n.useState)({}),[_,k]=(0,n.useState)(!1),[P,C]=(0,n.useState)(!1),S=e=>{let s=e.replace(/\D/g,"").slice(0,10);return 0===s.length?"":s.length<4?"(".concat(s):s.length<7?"(".concat(s.slice(0,3),") ").concat(s.slice(3)):"(".concat(s.slice(0,3),") ").concat(s.slice(3,6),"-").concat(s.slice(6,10))},F=e=>{let{name:s,value:a}=e.target,t=a;"phone"===s&&(t=S(a)),c(e=>({...e,[s]:t})),y[s]&&v(e=>{let{[s]:a,...t}=e;return t})},R=e=>{let{active:s}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"eye-icon ".concat(s?"active":""),children:[(0,t.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,t.jsx)("line",{className:"slash",x1:"2",y1:"2",x2:"22",y2:"22"})]})};(0,n.useEffect)(()=>{console.log(localStorage.getItem("role"))},[]);let E=async t=>{t&&t.preventDefault(),C(!0),v({});let n={};if(l.name.trim()||(n.name="Full Name is required"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(n.email="Email is invalid"):n.email="Email is required",l.phone.trim()||(n.phone="Phone Number is required"),l.company_name.trim()||(n.company_name="Company Name is required"),l.password.trim()?l.password.length<6&&(n.password="Password must be at least 6 characters"):n.password="Password is required",l.password_confirmation.trim()?l.password!==l.password_confirmation&&(n.password_confirmation="Passwords do not match"):n.password_confirmation="Confirm Password is required",_||(n.agreement="You must agree to the terms and conditions"),Object.keys(n).length>0){v(n),a(Object.values(n)[0],"error"),C(!1);return}let r={name:l.name,email:l.email,phone:l.phone,company_name:l.company_name,password:l.password,password_confirmation:l.password_confirmation,zip:l.zip||"46000",work_radius:parseInt(l.work_radius)||0,category:1,role:"affiliate"};try{let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","auth/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}),n=await t.json();if(console.log(n),t.ok){let t=n.data.token;localStorage.setItem("token",t),localStorage.setItem("role","affiliate"),t?(a("Registration successful! Welcome aboard!"),setTimeout(()=>{e.push({"general-contractor":"/subscription-list","sub-contractor":"/subscription-list",affiliate:"/subscription-list"}[s]||"/")},1500)):a("Registration succeeded, but no token received.","error")}else{let e="Registration failed. Please try again.";n.message&&Array.isArray(n.message)&&n.message.length>0?e=n.message[0]:"string"==typeof n.message&&(e=n.message),a(e,"error"),v({api:e})}}catch(e){a("Network error. Please check your connection.","error"),console.error(e)}finally{C(!1)}};return(0,t.jsxs)("section",{className:"hero-sec login overflow-hidden position-static",children:[(0,t.jsxs)("div",{className:"image-wrapper",children:[(0,t.jsx)(i.default,{src:"/assets/img/left-image.webp",className:"left-image",alt:"Section Image",width:500,height:800}),(0,t.jsxs)("p",{className:"main-title mb-0",children:["Developed by:",(0,t.jsxs)(r.default,{href:"https://designspartans.com/",target:"_blank",className:"text-primary fw-semibold",children:[" ","Design Spartans"]})]})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-lg-6 offset-lg-6",children:(0,t.jsx)("div",{className:"content-wrapper d-flex align-items-center justify-content-center",style:{padding:"20px"},children:(0,t.jsxs)("div",{className:"content w-100 mx-auto",style:{maxWidth:"482px",position:"relative",minHeight:"600px"},children:[(0,t.jsx)(r.default,{href:"/",className:"d-block mb-4",children:(0,t.jsx)(i.default,{src:"/assets/img/icons/logo.webp",width:350,height:100,alt:"Logo",className:"img-fluid d-block w-100 mx-auto",style:{maxWidth:"350px"}})}),(0,t.jsxs)("form",{className:"form",onSubmit:E,children:[(0,t.jsx)("div",{className:"fw-semibold fs-2 mb-4 text-center",children:"Register"}),(0,t.jsxs)("div",{className:"register-topbar px-4 gap-3",children:[(0,t.jsx)(i.default,{src:"/assets/img/icons/portfolio.webp",width:50,height:50,alt:"Icon",priority:!0}),(0,t.jsx)("div",{className:"fw-semibold",children:"Affiliate"})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,t.jsxs)("label",{htmlFor:"name",className:"mb-1 fw-semibold",children:["Full Name ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"John Doe",value:l.name,onChange:F,className:"form-control"}),y.name&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.name})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,t.jsxs)("label",{htmlFor:"company_name",className:"mb-1 fw-semibold",children:["Company Name ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"company_name",name:"company_name",placeholder:"JD Construction",value:l.company_name,onChange:F,className:"form-control"}),y.company_name&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.company_name})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,t.jsxs)("label",{htmlFor:"email",className:"mb-1 fw-semibold",children:["Email Address ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"john@example.com",value:l.email,onChange:F,className:"form-control"}),y.email&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.email})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,t.jsxs)("label",{htmlFor:"phone",className:"mb-1 fw-semibold",children:["Phone Number ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"form-control",placeholder:"(555) 123-4567",value:l.phone,onChange:F,maxLength:14}),y.phone&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.phone})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative",children:[(0,t.jsxs)("label",{htmlFor:"password",className:"mb-1 fw-semibold",children:["Password ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:m?"text":"password",id:"password",name:"password",className:"form-control pe-5",placeholder:"Password123",value:l.password,onChange:F,disabled:P}),(0,t.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>d(!m),children:(0,t.jsx)(R,{active:m})}),y.password&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.password})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative",children:[(0,t.jsxs)("label",{htmlFor:"password_confirmation",className:"mb-1 fw-semibold",children:["Confirm Password ",(0,t.jsx)("span",{className:"text-danger",children:"*"})]}),(0,t.jsx)("input",{type:p?"text":"password",id:"password_confirmation",name:"password_confirmation",className:"form-control pe-5",placeholder:"Password123",value:l.password_confirmation,onChange:F,disabled:P}),(0,t.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>u(!p),children:(0,t.jsx)(R,{active:p})}),y.password_confirmation&&(0,t.jsx)("span",{className:"text-danger animate-slide-up",children:y.password_confirmation})]}),(0,t.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,t.jsxs)("div",{className:"form-check",children:[(0,t.jsx)("input",{className:"form-check-input",type:"checkbox",id:"agreement",checked:_,onChange:e=>{k(e.target.checked),y.agreement&&v(e=>{let{agreement:s,...a}=e;return a})}}),(0,t.jsxs)("label",{className:"form-check-label fw-semibold fs-12",htmlFor:"agreement",children:["By registering, you confirm that you have reviewed and accepted our"," ",(0,t.jsx)(r.default,{href:"/privacy-policy",style:{color:"#8F9B1F"},children:"Privacy Policy"})," ","and"," ",(0,t.jsx)(r.default,{href:"/terms-and-conditions",style:{color:"#8F9B1F"},children:"Terms & Conditions."})]}),y.agreement&&(0,t.jsx)("span",{className:"text-danger animate-slide-up d-block mt-1",children:y.agreement})]})}),y.api&&(0,t.jsx)("p",{className:"text-danger animate-slide-up mb-3",children:y.api}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary w-100 d-block text-center rounded-3",disabled:P,children:P?"Registering...":"Complete Registration"}),(0,t.jsxs)("div",{className:"text-center fw-medium text-gray-light",children:["Already have an account?"," ",(0,t.jsx)(r.default,{href:"/auth/login",className:"fw-semibold text-black",children:"Login"})]})]})]})})})})]})}},98135:function(){}},function(e){e.O(0,[2112,4974,2971,7023,1744],function(){return e(e.s=40361)}),_N_E=e.O()}]);