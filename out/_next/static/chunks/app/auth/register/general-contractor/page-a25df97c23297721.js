(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7523],{45910:function(e,s,a){Promise.resolve().then(a.bind(a,20274))},16463:function(e,s,a){"use strict";var n=a(71169);a.o(n,"useParams")&&a.d(s,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(s,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(s,{useRouter:function(){return n.useRouter}})},20274:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return l}});var n=a(57437);a(98135);var t=a(2265),r=a(87138),o=a(66648),i=a(16463);function l(){let e=(0,i.useRouter)();(0,i.useParams)();let s=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=document.createElement("div");a.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,"</span>\n            </div>\n        "),document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},4e3)},[a,l]=(0,t.useState)({name:"User Test",email:"test1@gmail.com",phone:"(324) 342-3423",company_name:"ABC Corporation",password:"Password123",password_confirmation:"Password123",license_number:"LIC123456",zip:"0",work_radius:"0",category:1}),[c,m]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[f,w]=(0,t.useState)(!1),[b,j]=(0,t.useState)(""),[N,y]=(0,t.useState)({}),[v,_]=(0,t.useState)(!1),[k,C]=(0,t.useState)(!1),P=e=>{let s=e.replace(/\D/g,"").slice(0,10);return 0===s.length?"":s.length<4?"(".concat(s):s.length<7?"(".concat(s.slice(0,3),") ").concat(s.slice(3)):"(".concat(s.slice(0,3),") ").concat(s.slice(3,6),"-").concat(s.slice(6,10))},S=e=>{let{name:s,value:a}=e.target,n=a;"phone"===s&&(n=P(a)),l(e=>({...e,[s]:n})),N[s]&&y(e=>{let{[s]:a,...n}=e;return n})},F=e=>{let{active:s}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"eye-icon ".concat(s?"active":""),children:[(0,n.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,n.jsx)("line",{className:"slash",x1:"2",y1:"2",x2:"22",y2:"22"})]})},L=async n=>{n&&n.preventDefault(),C(!0),y({});let t={};if(a.name.trim()||(t.name="Full Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(t.email="Email is invalid"):t.email="Email is required",a.phone.trim()||(t.phone="Phone Number is required"),a.company_name.trim()||(t.company_name="Company Name is required"),a.password.trim()?a.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",a.password_confirmation.trim()?a.password!==a.password_confirmation&&(t.password_confirmation="Passwords do not match"):t.password_confirmation="Confirm Password is required",v||(t.agreement="You must agree to the terms and conditions"),Object.keys(t).length>0){y(t),s(Object.values(t)[0],"error"),C(!1);return}let r=localStorage.getItem("role"),o={name:a.name,email:a.email,phone:a.phone,company_name:a.company_name,password:a.password,password_confirmation:a.password_confirmation,license_number:"LIC123456",zip:a.zip||"46000",work_radius:parseInt(a.work_radius)||0,category:1,role:"general_contractor"};try{let a=await fetch("".concat("https://api.ezsubcontractor.com/api/","auth/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)}),n=await a.json();if(console.log(n),a.ok){let a=n.data.token;localStorage.setItem("token",a),localStorage.setItem("role","general_contractor"),a?(s("Registration successful! Welcome aboard!"),setTimeout(()=>{"general_contractor"==r&&(console.log(1),e.push("/general-contractor/dashboard")),"subcontractor"==r&&(console.log(2),e.push("/subscription-list")),"affiliate"==r&&(console.log(3),e.push("/subscription-list"))},1500)):s("Registration succeeded, but no token received.","error")}else{let e="Registration failed. Please try again.";n.message&&Array.isArray(n.message)&&n.message.length>0?e=n.message[0]:"string"==typeof n.message&&(e=n.message),s(e,"error"),y({api:e})}}catch(e){s("Network error. Please check your connection.","error"),console.error(e)}finally{C(!1)}};return(0,n.jsxs)("section",{className:"hero-sec login overflow-hidden position-static",children:[(0,n.jsxs)("div",{className:"image-wrapper",children:[(0,n.jsx)(o.default,{src:"/assets/img/left-image.webp",className:"left-image",alt:"Section Image",width:500,height:800}),(0,n.jsxs)("p",{className:"main-title mb-0",children:["Developed by:",(0,n.jsxs)(r.default,{href:"https://designspartans.com/",target:"_blank",className:"text-primary fw-semibold",children:[" ","Design Spartans"]})]})]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-6 offset-lg-6",children:(0,n.jsx)("div",{className:"content-wrapper d-flex align-items-center justify-content-center",style:{padding:"20px"},children:(0,n.jsxs)("div",{className:"content w-100 mx-auto",style:{maxWidth:"482px",position:"relative",minHeight:"600px"},children:[(0,n.jsx)(r.default,{href:"/",className:"d-block mb-4",children:(0,n.jsx)(o.default,{src:"/assets/img/icons/logo.webp",width:350,height:100,alt:"Logo",className:"img-fluid d-block w-100 mx-auto",style:{maxWidth:"350px"}})}),(0,n.jsxs)("form",{className:"form",onSubmit:L,children:[(0,n.jsx)("div",{className:"fw-semibold fs-2 mb-4 text-center",children:"Register"}),(0,n.jsxs)("div",{className:"register-topbar px-4 gap-3",children:[(0,n.jsx)(o.default,{src:"/assets/img/icons/construction-worker.webp",width:50,height:50,alt:"Icon",priority:!0}),(0,n.jsx)("div",{className:"fw-semibold",children:"General Contractor"})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,n.jsxs)("label",{htmlFor:"name",className:"mb-1 fw-semibold",children:["Full Name ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"John Doe",value:a.name,onChange:S,className:"form-control"}),N.name&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.name})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,n.jsxs)("label",{htmlFor:"company_name",className:"mb-1 fw-semibold",children:["Company Name ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"company_name",name:"company_name",placeholder:"JD Construction",value:a.company_name,onChange:S,className:"form-control"}),N.company_name&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.company_name})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,n.jsx)("label",{htmlFor:"license_number",className:"mb-1 fw-semibold",children:"License Number"}),(0,n.jsx)("input",{type:"text",id:"license_number",name:"license_number",placeholder:"LIC123456",value:a.license_number,onChange:S,className:"form-control"}),N.license_number&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.license_number})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,n.jsxs)("label",{htmlFor:"email",className:"mb-1 fw-semibold",children:["Email Address ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"john@example.com",value:a.email,onChange:S,className:"form-control"}),N.email&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.email})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,n.jsxs)("label",{htmlFor:"phone",className:"mb-1 fw-semibold",children:["Phone Number ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:"tel",id:"phone",name:"phone",className:"form-control",placeholder:"(555) 123-4567",value:a.phone,onChange:S,maxLength:14}),N.phone&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.phone})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative",children:[(0,n.jsxs)("label",{htmlFor:"password",className:"mb-1 fw-semibold",children:["Password ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:c?"text":"password",id:"password",name:"password",className:"form-control pe-5",placeholder:"Password123",value:a.password,onChange:S,disabled:k}),(0,n.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>m(!c),children:(0,n.jsx)(F,{active:c})}),N.password&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.password})]}),(0,n.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative",children:[(0,n.jsxs)("label",{htmlFor:"password_confirmation",className:"mb-1 fw-semibold",children:["Confirm Password ",(0,n.jsx)("span",{className:"text-danger",children:"*"})]}),(0,n.jsx)("input",{type:d?"text":"password",id:"password_confirmation",name:"password_confirmation",className:"form-control pe-5",placeholder:"Password123",value:a.password_confirmation,onChange:S,disabled:k}),(0,n.jsx)("span",{className:"toggle-password position-absolute",style:{right:"10px",top:"38px",cursor:"pointer"},onClick:()=>p(!d),children:(0,n.jsx)(F,{active:d})}),N.password_confirmation&&(0,n.jsx)("span",{className:"text-danger animate-slide-up",children:N.password_confirmation})]}),(0,n.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,n.jsxs)("div",{className:"form-check",children:[(0,n.jsx)("input",{className:"form-check-input",type:"checkbox",id:"agreement",checked:v,onChange:e=>{_(e.target.checked),N.agreement&&y(e=>{let{agreement:s,...a}=e;return a})}}),(0,n.jsxs)("label",{className:"form-check-label fw-semibold fs-12",htmlFor:"agreement",children:["By registering, you confirm that you have reviewed and accepted our"," ",(0,n.jsx)(r.default,{href:"/privacy-policy",style:{color:"#8F9B1F"},children:"Privacy Policy"})," ","and"," ",(0,n.jsx)(r.default,{href:"/terms-and-conditions",style:{color:"#8F9B1F"},children:"Terms & Conditions."})]}),N.agreement&&(0,n.jsx)("span",{className:"text-danger animate-slide-up d-block mt-1",children:N.agreement})]})}),N.api&&(0,n.jsx)("p",{className:"text-danger animate-slide-up mb-3",children:N.api}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary w-100 d-block text-center rounded-3",disabled:k,children:k?"Registering...":"Complete Registration"}),(0,n.jsxs)("div",{className:"text-center fw-medium text-gray-light",children:["Already have an account?"," ",(0,n.jsx)(r.default,{href:"/auth/login",className:"fw-semibold text-black",children:"Login"})]})]})]})})})})]})}},98135:function(){}},function(e){e.O(0,[2112,4974,2971,7023,1744],function(){return e(e.s=45910)}),_N_E=e.O()}]);