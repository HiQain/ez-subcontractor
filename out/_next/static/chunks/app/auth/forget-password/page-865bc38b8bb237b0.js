(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1091],{51779:function(e,t,s){Promise.resolve().then(s.bind(s,68032))},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},68032:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(57437),n=s(2265),r=s(66648),i=s(87138),o=s(16463);function l(){let[e,t]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),p=(0,o.useRouter)(),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=document.createElement("div");s.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===t?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===t?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===t?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===t?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(s);let a=setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},4e3),n=s.querySelector(".btn-close");null==n||n.addEventListener("click",()=>{clearTimeout(a),s.parentNode&&s.parentNode.removeChild(s)})},f=e=>/\S+@\S+\.\S+/.test(e.trim()),x=async s=>{if(!u){if(s.preventDefault(),l(""),d(""),m(!0),!e.trim()){h("Email is required","error"),m(!1);return}if(!f(e)){h("Please enter a valid email address","error"),m(!1);return}try{let s=await fetch("".concat("https://api.ezsubcontractor.com/api/","auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),a=await s.json();if(s.ok)h("Password reset link has been sent to your email!"),t(""),localStorage.setItem("forgotPasswordEmail",e),setTimeout(()=>{p.push("/auth/verify-email")},1500);else{let e="Something went wrong. Please try again.";Array.isArray(a.message)?e=a.message[0]:"string"==typeof a.message&&(e=a.message),h(e,"error")}}catch(e){h("Network error. Please check your internet connection.","error")}finally{m(!1)}}};return(0,a.jsxs)("section",{className:"hero-sec login login-s1 overflow-hidden position-static",children:[(0,a.jsxs)("div",{className:"image-wrapper",children:[(0,a.jsx)(r.default,{src:"/assets/img/left-image.webp",className:"left-image",alt:"Section Image",width:500,height:800}),(0,a.jsxs)("p",{className:"main-title mb-0",children:["Developed by:",(0,a.jsx)(i.default,{href:"https://designspartans.com/",target:"_blank",className:"text-primary fw-semibold",children:" Design Spartans"})]})]}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-6 offset-lg-6",children:(0,a.jsx)("div",{className:"content-wrapper",children:(0,a.jsxs)("div",{className:"content mx-auto w-100",children:[(0,a.jsx)(i.default,{href:"/",className:"d-block mb-4",children:(0,a.jsx)(r.default,{src:"/assets/img/icons/logo.webp",width:350,height:100,alt:"Login Logo",style:{maxWidth:"350px"},className:"img-fluid d-block w-100 mx-auto"})}),(0,a.jsx)("div",{className:"fw-semibold fs-2 mb-4 text-center form-title",children:"Forgot Password"}),(0,a.jsxs)("form",{className:"form",onSubmit:x,children:[(0,a.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"mb-1 fw-semibold",children:["Email Address ",(0,a.jsx)("span",{className:"text-danger",children:"*"})]}),(0,a.jsx)("input",{type:"email",id:"email",placeholder:"hello@example.com",value:e,onChange:e=>t(e.target.value),className:"form-control"})]}),(0,a.jsxs)("div",{className:"buttons-wrapper d-flex align-items-center gap-4 mt-3",children:[(0,a.jsx)("button",{onClick:()=>p.back(),className:"btn btn-outline-dark rounded-3 justify-content-center w-100",children:"Back"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary rounded-3 justify-content-center w-100",disabled:u||!f(e),style:{opacity:u||!f(e)?.6:1,cursor:u||!f(e)?"not-allowed":"pointer"},children:u?"Please wait...":"Next"})]})]})]})})})})]})}s(98135)},98135:function(){}},function(e){e.O(0,[2112,4974,2971,7023,1744],function(){return e(e.s=51779)}),_N_E=e.O()}]);