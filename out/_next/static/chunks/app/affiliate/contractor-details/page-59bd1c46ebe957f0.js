(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7412],{29742:function(e,s,a){Promise.resolve().then(a.bind(a,39794))},16463:function(e,s,a){"use strict";var t=a(71169);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},39794:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var t=a(57437),i=a(2265),n=a(66648),l=a(87138),r=a(16463),c=a(18148),o=a(36037);function d(){var e;let s=(0,r.useRouter)(),[a,d]=(0,i.useState)(null),[m,h]=(0,i.useState)(!0),[x,f]=(0,i.useState)(null),[u,g]=(0,i.useState)(!1),p=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=document.createElement("div");a.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(a);let t=setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},4e3),i=a.querySelector(".btn-close");null==i||i.addEventListener("click",()=>{clearTimeout(t),a.parentNode&&a.parentNode.removeChild(a)})};(0,i.useEffect)(()=>{let e=localStorage.getItem("selectedContractor");if(e)try{let s=JSON.parse(e);d(s),h(!1)}catch(e){console.warn("Invalid contractor in localStorage",e),localStorage.removeItem("selectedContractor"),f("Invalid saved data. Redirecting..."),setTimeout(()=>s.push("/affiliate/dashboard"),2e3)}else f("No contractor selected. Redirecting to dashboard..."),setTimeout(()=>s.push("/affiliate/dashboard"),2e3)},[s]);let j=async()=>{if(!a)return;let e=localStorage.getItem("token"),s=new FormData;s.append("contractor_id",a.id.toString());try{if(!(await fetch("".concat("https://api.ezsubcontractor.com/api/").concat(u?"common/contractors/unsave":"common/contractors/save"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:s})).ok)throw Error();let t=!u;g(t);let i={...a,is_saved:t};localStorage.setItem("selectedContractor",JSON.stringify(i)),d(i),p(t?"Contractor saved successfully!":"Contractor removed from saved list","success")}catch(e){console.error("Toggle save error:",e),p("Failed to ".concat(u?"unsave":"save"," contractor."),"error")}};return m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("div",{className:"sections overflow-hidden",children:(0,t.jsx)("section",{className:"banner-sec profile",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"right-bar d-flex align-items-center justify-content-center",style:{height:"600px"},children:(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})})}),(0,t.jsx)(o.Z,{})]}):x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("div",{className:"sections overflow-hidden",children:(0,t.jsx)("section",{className:"banner-sec profile",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"right-bar text-center py-5",children:[(0,t.jsx)("div",{className:"alert alert-warning",role:"alert",children:x}),(0,t.jsx)("button",{className:"btn btn-primary mt-3",onClick:()=>s.push("/affiliate/dashboard"),children:"Go to Dashboard"})]})})})}),(0,t.jsx)(o.Z,{})]}):a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("div",{className:"sections overflow-hidden",children:(0,t.jsx)("section",{className:"banner-sec profile",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"right-bar",children:[(0,t.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between flex-wrap mb-5",children:[(0,t.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,t.jsx)("button",{type:"button",className:"icon",onClick:()=>s.push("/affiliate/dashboard"),"aria-label":"Go back",children:(0,t.jsx)(n.default,{src:"/assets/img/button-angle.svg",width:10,height:15,alt:"Back"})}),(0,t.jsx)("span",{className:"fs-4 fw-semibold",children:"Contractor Details"})]}),(0,t.jsx)("button",{type:"button",className:"icon1 ".concat(u?"saved":"save"),onClick:j,"aria-label":u?"Unsave":"Save",children:(0,t.jsx)(n.default,{src:u?"/assets/img/bookmark-filled.svg":"/assets/img/bookmark-outline.svg",width:24,height:24,alt:"Save"})})]}),(0,t.jsxs)("div",{className:"review-bar d-flex align-items-center justify-content-between gap-2 flex-wrap mb-5",children:[(0,t.jsxs)("div",{className:"image-box d-flex align-items-center gap-4",children:[(0,t.jsx)(n.default,{src:a.profile_image_url||"/assets/img/profile-placeholder.webp",className:"worker-img rounded-circle",width:180,height:180,alt:"".concat(a.name,"'s Profile"),style:{objectFit:"cover"}}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"title fw-semibold fs-4 mb-2",children:a.name}),(0,t.jsx)("span",{className:"btn btn-primary p-1 ps-3 pe-3 mb-3 text-capitalize",children:a.role}),(0,t.jsx)("p",{className:"text-gray-light fw-medium",children:a.address?a.address:(a.city,a.state,0+a.zip)})]})]}),(0,t.jsxs)("div",{className:"right d-flex align-items-center gap-4 flex-wrap",children:[(0,t.jsx)("div",{className:"rating-icons d-flex align-items-center gap-1 flex-wrap",children:(e=>{let s=parseFloat(e)||0;return[1,2,3,4,5].map((e,a)=>{let i=a+1,l=i<=Math.floor(s);return(0,t.jsx)(n.default,{src:l?"/assets/img/start1.svg":!l&&i<=s+.5?"/assets/img/star2.svg":"/assets/img/star-empty.svg",width:50,height:50,alt:"Star Icon",style:{width:"clamp(20px,5vw,50px)",height:"clamp(20px,5vw,50px)"}},a)})})(a.average_rating)}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsxs)("div",{className:"text-black text-center fs-3 fw-bold mb-1",children:[parseFloat(a.average_rating).toFixed(1),"/5"]}),(0,t.jsxs)("span",{className:"text-gray-light",children:[a.ratings_count," Reviews"]})]})]})]}),(0,t.jsxs)("div",{className:"review-bar mb-5",children:[(0,t.jsxs)("div",{className:"icon-wrapper d-flex flex-column gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"icon-box",children:[(0,t.jsx)("div",{className:"icon1",children:(0,t.jsx)(n.default,{src:"/assets/img/icons/office-dark.svg",width:24,height:24,alt:"Icon"})}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light mb-1 fw-medium",children:"Company Name"}),(0,t.jsx)("div",{className:"fw-semibold",children:a.company_name||"—"})]})]}),(0,t.jsxs)("div",{className:"icon-box",children:[(0,t.jsx)("div",{className:"icon1",children:(0,t.jsx)(n.default,{src:"/assets/img/icons/message-dark.svg",width:24,height:24,alt:"Icon"})}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light mb-1 fw-medium",children:"Email"}),(0,t.jsx)("a",{href:"mailto:".concat(a.email),className:"fw-semibold text-dark",children:a.email})]})]}),(0,t.jsxs)("div",{className:"icon-box",children:[(0,t.jsx)("div",{className:"icon1",children:(0,t.jsx)(n.default,{src:"/assets/img/icons/call-dark.svg",width:24,height:24,alt:"Icon"})}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light mb-1 fw-medium",children:"Phone"}),(0,t.jsx)("a",{href:"tel:".concat(a.phone),className:"fw-semibold text-dark",children:a.phone})]})]})]}),(0,t.jsx)("div",{className:"content-wrapper d-flex align-items-center flex-wrap",style:{gap:"clamp(20px,7vw,80px)"},children:a.work_radius&&(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light fw-medium mb-1",children:"Work Radius"}),(0,t.jsxs)("div",{className:"fw-semibold",children:[a.work_radius," miles"]})]})}),(0,t.jsx)("div",{className:"text-gray-light fw-medium mb-2 mt-4",children:"Categories"}),(0,t.jsx)("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:(null===(e=a.specialization)||void 0===e?void 0:e.length)?(0,t.jsx)("span",{className:"btn bg-dark text-white rounded-3 p-2 fs-14 fw-semibold",children:a.specialization}):(0,t.jsx)("span",{className:"text-muted",children:"—"})})]}),(0,t.jsxs)("div",{className:"buttons d-flex align-items-center gap-3 flex-wrap",children:[(0,t.jsxs)(l.default,{href:{pathname:"/messages",query:{userId:a.id,name:a.name,email:a.email,phone:a.phone,companyName:a.company_name}},className:"btn btn-primary rounded-3 flex-grow-1 d-flex align-items-center justify-content-center gap-2",children:[(0,t.jsx)(n.default,{src:"/assets/img/icons/chat-dark.svg",width:24,height:24,alt:"Chat"}),(0,t.jsx)("span",{className:"fs-18",children:"Chat Now"})]}),(0,t.jsxs)("a",{href:"mailto:".concat(a.email),className:"btn btn-primary rounded-3 flex-grow-1 d-flex align-items-center justify-content-center gap-2",children:[(0,t.jsx)(n.default,{src:"/assets/img/icons/message-dark.svg",width:24,height:24,alt:"Email"}),(0,t.jsx)("span",{className:"fs-18",children:"Email"})]}),(0,t.jsxs)("a",{href:"tel:".concat(a.phone),className:"btn btn-primary rounded-3 flex-grow-1 d-flex align-items-center justify-content-center gap-2",children:[(0,t.jsx)(n.default,{src:"/assets/img/icons/call-dark.svg",width:24,height:24,alt:"Call"}),(0,t.jsx)("span",{className:"fs-18",children:"Phone"})]})]})]})})})}),(0,t.jsx)(o.Z,{})]}):null}a(5360)},36037:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(57437),i=a(87138),n=a(66648),l=a(2265);function r(){let[e,s]=(0,l.useState)("");return(0,t.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"footer-main",children:(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,t.jsx)(i.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,t.jsx)(n.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,t.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,t.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Menu"}),(0,t.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/subscription",children:"Free Trial"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/how-it-works",children:"How It Works"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,t.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Other"}),(0,t.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/faq",children:"FAQs"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,t.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"icon",children:(0,t.jsx)(n.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,t.jsx)(i.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,t.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,t.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,t.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,t.jsx)(i.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}a(62562)},62562:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,4974,8148,2971,7023,1744],function(){return e(e.s=29742)}),_N_E=e.O()}]);