(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8945],{55726:function(e,s,a){Promise.resolve().then(a.bind(a,58522))},16463:function(e,s,a){"use strict";var t=a(71169);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},58522:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var t=a(57437),i=a(2265),r=a(66648),l=a(16463),n=a(18148),o=a(36037);a(91748),a(5360);var c=a(21314);function d(){let e=(0,l.useRouter)(),s=(0,c.MD)(),a=(0,c.lq)(),[d,m]=(0,i.useState)("saved-cards"),[h,u]=(0,i.useState)(null),[p,x]=(0,i.useState)(null),f=(0,i.useRef)(null),v=(0,i.useRef)(null),[g,j]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[N,y]=(0,i.useState)(!1),[k,S]=(0,i.useState)([]),[C,z]=(0,i.useState)(!1),[_,P]=(0,i.useState)("Horizontal"),[E,R]=(0,i.useState)([]),[B,L]=(0,i.useState)(!1),[T,D]=(0,i.useState)(null),[F,A]=(0,i.useState)(""),[I,H]=(0,i.useState)(""),M=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",a=document.querySelector(".checkout-toast");a&&a.remove();let t=document.createElement("div");t.className="checkout-toast",t.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                max-width: 400px;\n                background-color: '.concat("success"===s?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===s?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===s?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n                font-size: 14px;\n            ">\n                <span>').concat("success"===s?"✅":"❌"," ").concat(e,'</span>\n<!--                <button type="button" class="btn-close" style="font-size: 12px; margin-left: auto; opacity: 0.7;" data-bs-dismiss="toast"></button>-->\n            </div>\n        '),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},4e3)};(0,i.useEffect)(()=>{"saved-cards"===d&&U()},[d]),(0,i.useEffect)(()=>{O(_)},[]);let O=async e=>{L(!0);try{let s=localStorage.getItem("token"),a=await fetch("".concat("https://api.ezsubcontractor.com/api/","affiliate/ad-placements?orientation=").concat(e),{headers:{"Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)}}}),t=await a.json();if(t.success){R(t.data);let e=t.data.find(e=>e.name===_);e&&D(e)}else M("Failed to fetch ad placements","error")}catch(e){console.error(e),M("Something went wrong","error")}finally{L(!1)}},U=async()=>{z(!0);try{let e=localStorage.getItem("token"),s=await fetch("".concat("https://api.ezsubcontractor.com/api/","affiliate/cards"),{headers:{...e&&{Authorization:"Bearer ".concat(e)}}}),a=await s.json();a.success&&S(a.data)}catch(e){console.error("Failed to load cards")}finally{z(!1)}},V=(e,s)=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&s(URL.createObjectURL(t))},W=e=>{let s=e.trim();return s.startsWith("http://")||s.startsWith("https://")||(s="https://".concat(s)),s},Z=async()=>{var s,a,t,i,r,l,n,o,c;if(!T){M("Please select an ad","error");return}let d=localStorage.getItem("token");if(!d){M("User not authenticated","error");return}if(("Horizontal"===_||"Both"===_)&&!F.trim()){M("Please enter Horizontal URL","error");return}if(("Vertical"===_||"Both"===_)&&!I.trim()){M("Please enter Vertical URL","error");return}if("Horizontal"===_&&!(null===(a=f.current)||void 0===a?void 0:null===(s=a.files)||void 0===s?void 0:s[0])||"Vertical"===_&&!(null===(i=v.current)||void 0===i?void 0:null===(t=i.files)||void 0===t?void 0:t[0])||"Both"===_&&(!(null===(l=f.current)||void 0===l?void 0:null===(r=l.files)||void 0===r?void 0:r[0])||!(null===(o=v.current)||void 0===o?void 0:null===(n=o.files)||void 0===n?void 0:n[0]))){M("Please upload the required image(s)","error");return}let m=null===(c=k.find(e=>e.is_default))||void 0===c?void 0:c.id;if(!m){M("Please select a default card","error");return}y(!0);try{let s=new FormData;s.append("ad_placement_id",T.id),s.append("orientation",_.toLowerCase()),s.append("can_pause","0"),s.append("card_id",m);let a=new Date,t=new Date;t.setDate(a.getDate()+49),s.append("start_date",a.toISOString().split("T")[0]),s.append("end_date",t.toISOString().split("T")[0]),("Horizontal"===_||"Both"===_)&&(s.append("horizontal_image",f.current.files[0]),s.append("horizontal_url",W(F))),("Vertical"===_||"Both"===_)&&(s.append("vertical_image",v.current.files[0]),s.append("vertical_url",W(I)));let i=await fetch("".concat("https://api.ezsubcontractor.com/api/","affiliate/ads/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(d)},body:s}),r=await i.json();if(i.ok&&r.success)M("Ad posted successfully!","success"),e.push("/affiliate/ad-posted");else{let e=Array.isArray(r.message)?r.message.join(", "):r.message||"Failed to post ad";M(e,"error")}}catch(e){console.error(e),M(e.message||"Something went wrong","error")}finally{y(!1)}};(0,i.useEffect)(()=>{let e=localStorage.getItem("userName"),s=localStorage.getItem("userEmail");e&&j(e),s&&w(s)},[]);let q=async()=>{if(!g.trim()||!b.trim()){M("Please enter your name and email","error"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},500);return}if(!s||!a){M("Stripe not loaded yet","error");return}let e=a.getElement(c.NZ);if(!e){M("Card details missing","error");return}y(!0);try{let{error:a,paymentMethod:i}=await s.createPaymentMethod({type:"card",card:e,billing_details:{name:g,email:b}});if(a||!i){let e=(null==a?void 0:a.message)||"Payment method creation failed";throw M(e,"error"),Error(e)}let r=localStorage.getItem("token"),l=await fetch("".concat("https://api.ezsubcontractor.com/api/","affiliate/cards/add"),{method:"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:"Bearer ".concat(r)}},body:JSON.stringify({payment_method_id:i.id})}),n=await l.json();if(!l.ok||!n.success){var t;let e=(null===(t=n.message)||void 0===t?void 0:t[0])||"Subscription creation failed";throw M(e,"error"),Error(e)}M("Card added successfully!","success"),m("saved-cards"),U()}catch(e){M(e.message||"Something went wrong","error"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},500)}finally{y(!1)}},Y=async e=>{S(s=>s.map(s=>({...s,is_default:s.id===e})));try{let a=localStorage.getItem("token"),t=await fetch("".concat("https://api.ezsubcontractor.com/api/","affiliate/cards/").concat(e,"/default"),{method:"POST",headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)}}}),i=await t.json();if(!t.ok||!i.success){var s;throw Error((null===(s=i.message)||void 0===s?void 0:s[0])||"Failed to set default card")}}catch(e){console.error(e),U()}};return(0,i.useEffect)(()=>{},[null]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{}),(0,t.jsx)("div",{className:"banner-sec post profile",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"right-bar mb-5",children:(0,t.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,t.jsx)("div",{className:"icon",onClick:()=>e.back(),children:(0,t.jsx)(r.default,{src:"/assets/img/button-angle.svg",width:10,height:15,alt:"Icon",loading:"lazy"})}),(0,t.jsx)("span",{className:"fs-4 fw-semibold",children:"Post an Ad"})]})}),(0,t.jsxs)("div",{className:"form-section",children:[(0,t.jsxs)("div",{className:"left-side",children:[(0,t.jsx)("div",{className:"fw-semibold fs-18 mb-3",children:"Select Orientation"}),B&&(0,t.jsx)("p",{children:"Loading orientation..."}),(0,t.jsx)("div",{className:"radio-group mb-4",children:E.map(e=>(0,t.jsxs)("div",{className:"radio-wrapper mb-3",children:[(0,t.jsx)("input",{type:"radio",id:"radio-".concat(e.id),className:"radio",name:"orientation",checked:_.toLowerCase()===e.orientation_type,onChange:()=>{P(e.name),D(e)}}),(0,t.jsxs)("label",{htmlFor:"radio-".concat(e.id),className:"fw-medium",children:[e.name," ($",e.price," / ",e.price_type,")"]})]},e.id))}),(0,t.jsxs)("div",{className:"input-wrapper mb-4",children:[("Horizontal"===_||"Both"===_)&&(0,t.jsxs)("div",{className:"input-wrapper mb-4",children:[(0,t.jsx)("label",{className:"fw-semibold mb-1",children:"Horizontal URL"}),(0,t.jsx)("input",{type:"text",value:F,onChange:e=>A(e.target.value),placeholder:"Enter Horizontal URL"})]}),("Vertical"===_||"Both"===_)&&(0,t.jsxs)("div",{className:"input-wrapper mb-4",children:[(0,t.jsx)("label",{className:"fw-semibold mb-1",children:"Vertical URL"}),(0,t.jsx)("input",{type:"text",value:I,onChange:e=>H(e.target.value),placeholder:"Enter Vertical URL"})]})]}),(0,t.jsx)("div",{className:"fs-4 fw-semibold mb-3",children:"Payment Details"}),(0,t.jsxs)("div",{className:"tab mb-4",children:[(0,t.jsxs)("ul",{className:"nav nav-tabs mb-5",role:"tablist",children:[(0,t.jsx)("li",{className:"nav-item",role:"presentation",children:(0,t.jsx)("button",{className:"nav-link ".concat("saved-cards"===d?"active":""),onClick:()=>m("saved-cards"),children:"Saved Cards"})}),(0,t.jsx)("li",{className:"nav-item",role:"presentation",children:(0,t.jsx)("button",{className:"nav-link ".concat("add-card"===d?"active":""),onClick:()=>m("add-card"),children:"Add a New Card"})})]}),(0,t.jsxs)("div",{className:"tab-content",children:["saved-cards"===d&&(0,t.jsx)("div",{className:"tab-pane fade show active",children:(0,t.jsx)("div",{className:"cards-wrapper",children:(0,t.jsxs)("div",{className:"row g-3",children:[C&&(0,t.jsx)("p",{children:"Loading cards..."}),!C&&0===k.length&&(0,t.jsx)("p",{children:"No saved cards found"}),k.map(e=>(0,t.jsx)("div",{className:"col-xl-6",children:(0,t.jsxs)("div",{className:"credit-card mb-2 position-relative",children:[(0,t.jsx)("div",{className:"checkbox-wrapper",children:(0,t.jsx)("input",{type:"checkbox",className:"checkbox checkbox1",checked:!0===e.is_default,onChange:()=>Y(e.id)})},e.id),(0,t.jsxs)("div",{className:"numbers fs-4 fw-semibold mb-4",children:["**** **** **** ",e.card.last4]}),(0,t.jsx)("div",{className:"content-wrapper d-flex align-items-center gap-2 flex-wrap justify-content-between",children:(0,t.jsxs)("div",{className:"left d-flex align-items-center gap-4 flex-wrap",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fs-12 mb-1",children:"Card Holder Name"}),(0,t.jsx)("div",{className:"fs-14 fw-semibold",children:e.billing_details.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fs-12 mb-1",children:"Expiry Date"}),(0,t.jsxs)("div",{className:"fs-14 fw-semibold",children:[e.card.exp_month,"/",e.card.exp_year]})]})]})})]})},e.id))]})})}),"add-card"===d&&(0,t.jsxs)("div",{className:"tab-pane fade show active",children:[(0,t.jsxs)("div",{className:"form",children:[(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("label",{className:"mb-1 fw-semibold",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",placeholder:"Jason Doe",value:g,onChange:e=>j(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"input-wrapper",children:[(0,t.jsx)("label",{className:"mb-1 fw-semibold",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",placeholder:"hello@example.com",value:b,onChange:e=>w(e.target.value),disabled:!0})]}),(0,t.jsxs)("div",{className:"input-wrapper d-flex flex-column",children:[(0,t.jsx)("label",{className:"mb-1 fw-semibold",children:"Card Details *"}),(0,t.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"12px",background:"#fff"},children:(0,t.jsx)(c.NZ,{options:{style:{base:{fontSize:"16px",color:"#000","::placeholder":{color:"#999"}}}}})})]})]}),(0,t.jsxs)("button",{style:{marginTop:"20px"},className:"btn btn-primary w-100 rounded-3 d-flex align-items-center justify-content-center gap-2",onClick:q,disabled:N,children:[N&&(0,t.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),N?"Adding Card...":"Add Card"]})]})]})]}),(0,t.jsxs)("div",{className:"note-card d-flex align-items-start gap-1 mb-4",children:[(0,t.jsx)(r.default,{src:"/assets/img/icons/note.webp",width:24,height:24,alt:"Note",loading:"lazy",className:"d-block"}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("span",{className:"d-block fw-semibold mb-1",style:{fontSize:"14px"},children:"Note"}),(0,t.jsxs)("ul",{className:"m-0 p-0",children:[(0,t.jsx)("li",{className:"fs-12",children:"You can only post one ad at a time"}),(0,t.jsx)("li",{className:"fs-12",children:"You can only post one ad at a time"}),(0,t.jsx)("li",{className:"fs-12",children:"You can only post one ad at a time"})]})]})]}),(0,t.jsx)("div",{className:"summary-box mb-4",children:(0,t.jsxs)("div",{className:"icon-box d-flex gap-2",children:[(0,t.jsx)(r.default,{src:"/assets/img/summary.svg",width:24,height:24,alt:"Icon",loading:"lazy"}),(0,t.jsxs)("div",{className:"content w-100",children:[(0,t.jsx)("div",{className:"fs-14 fw-semibold mb-2",children:"Summary"}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 flex-wrap w-100 mb-1",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light fw-medium",children:"Orientation"}),(0,t.jsx)("div",{className:"fs-14 fw-semibold",children:(null==T?void 0:T.name)||"-"})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 flex-wrap w-100 mb-1",children:[(0,t.jsxs)("div",{className:"fs-14 text-gray-light fw-medium",children:["Duration (",7," Weeks X $",(null==T?void 0:T.price)||"0",")"]}),(0,t.jsxs)("div",{className:"fs-14 fw-semibold",children:["$",T?(7*Number(T.price)).toFixed(2):"0.00"]})]}),(0,t.jsx)("hr",{className:"mb-2 mt-2"}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 flex-wrap w-100",children:[(0,t.jsx)("div",{className:"fs-14 text-gray-light fw-medium",children:"Total"}),(0,t.jsxs)("div",{className:"fs-14 fw-semibold",children:["$",T?(7*Number(T.price)).toFixed(2):"0.00"]})]})]})]})}),(0,t.jsxs)("button",{className:"btn btn-primary w-100 rounded-3 d-flex align-items-center justify-content-center gap-2",onClick:Z,disabled:N,children:[N&&(0,t.jsx)("span",{className:"spinner-border spinner-border-sm"}),N?"Posting...":"Post an Ad"]})]}),(0,t.jsxs)("div",{className:"right-side align-lg-end",children:[("Horizontal"===_||"Both"===_)&&(0,t.jsxs)("div",{className:"image-box",onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},style:{cursor:"pointer",width:"650px",height:"426px",position:"relative",overflow:"hidden",borderRadius:"8px",border:"1px dashed #ccc"},children:[h?(0,t.jsx)(r.default,{src:h,alt:"Upload",fill:!0,style:{objectFit:"cover"}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-8m0 0l-3 3m3-3l3 3M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2"})}),(0,t.jsxs)("p",{children:["Drag and drop image here",(0,t.jsx)("br",{}),"or click to upload"]}),(0,t.jsx)("small",{children:"Resolution: 760x246 | 200 MB Max"})]}),(0,t.jsx)("input",{type:"file",accept:"image/*,application/pdf",ref:f,style:{display:"none"},onChange:e=>V(e,u)})]}),("Vertical"===_||"Both"===_)&&(0,t.jsxs)("div",{className:"image-box small margin-right",style:{maxWidth:"371px",height:"426px",cursor:"pointer",position:"relative",overflow:"hidden",borderRadius:"8px",border:"1px dashed #ccc"},onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},children:[p?(0,t.jsx)(r.default,{src:p,alt:"Upload",fill:!0,style:{objectFit:"cover"}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16v-8m0 0l-3 3m3-3l3 3M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2"})}),(0,t.jsxs)("p",{children:["Drag and drop image here",(0,t.jsx)("br",{}),"or click to upload"]}),(0,t.jsx)("small",{children:"Resolution: 571x426 | 200 MB Max"})]}),(0,t.jsx)("input",{type:"file",accept:"image/*,application/pdf",ref:v,style:{display:"none"},onChange:e=>V(e,x)})]})]})]})]})}),(0,t.jsx)(o.Z,{})]})}},36037:function(e,s,a){"use strict";a.d(s,{Z:function(){return n}});var t=a(57437),i=a(87138),r=a(66648),l=a(2265);function n(){let[e,s]=(0,l.useState)("");return(0,t.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"footer-main",children:(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,t.jsx)(i.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,t.jsx)(r.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,t.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,t.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Menu"}),(0,t.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/subscription",children:"Free Trial"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/how-it-works",children:"How It Works"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,t.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Other"}),(0,t.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/faq",children:"FAQs"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,t.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,t.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,t.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"icon",children:(0,t.jsx)(r.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,t.jsx)(i.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,t.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,t.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,t.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,t.jsx)(i.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}a(62562)},62562:function(){},91748:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,4974,1314,8148,2971,7023,1744],function(){return e(e.s=55726)}),_N_E=e.O()}]);