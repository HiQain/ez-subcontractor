(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7137],{65198:function(e,t,s){Promise.resolve().then(s.bind(s,4631))},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},4631:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(57437),c=s(2265),l=s(16463),n=s(66648),i=s(87138),r=s(18148),o=s(36037);function d(){let e=(0,l.useRouter)();(0,c.useRef)(null);let[t,s]=(0,c.useState)([]),[d,m]=(0,c.useState)(!0),[h,u]=(0,c.useState)(null),[x,f]=(0,c.useState)(1),[p,g]=(0,c.useState)(!0),[j,v]=(0,c.useState)(new Set),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=document.createElement("div");s.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===t?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===t?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===t?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===t?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(s);let a=setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},4e3),c=s.querySelector(".btn-close");null==c||c.addEventListener("click",()=>{clearTimeout(a),s.parentNode&&s.parentNode.removeChild(s)})},N=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1?arguments[1]:void 0,c=e?1:null!=a?a:x;e&&(f(1),s([])),m(!0),u(null);try{var l,n;let a=localStorage.getItem("token"),i="".concat("https://api.ezsubcontractor.com/api/","common/contractors?page=").concat(c,"&perPage=").concat(9),r=await fetch(i,{method:"GET",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok)throw Error("HTTP ".concat(r.status));let o=await r.json();if(o.success&&Array.isArray(null===(l=o.data)||void 0===l?void 0:l.data)){let a=o.data.data,l=e?a:[...t,...a];if(!e){let e=new Set(t.map(e=>e.id)),s=a.filter(t=>!e.has(t.id));l=[...t,...s]}s(l);let n=o.data.total||0;g(c<Math.ceil(n/9))}else throw Error((null===(n=o.message)||void 0===n?void 0:n[0])||"Failed to load contractors")}catch(e){console.error("Fetch contractors error:",e),u(e.message||"Failed to load contractors. Please try again.")}finally{m(!1)}};(0,c.useEffect)(()=>{N(!0)},[]);let w=async()=>{try{let e=localStorage.getItem("token");if(!e)return;let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/contractors/my-saved"),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(t.ok){let e=await t.json();if(Array.isArray(null==e?void 0:e.data)){let t=e.data.map(e=>Number(e.id));v(new Set(t))}}}catch(e){console.warn("Failed to load saved contractors",e)}};(0,c.useEffect)(()=>{w()},[]);let y=async t=>{let s=j.has(t),a=new FormData;a.append("contractor_id",t.toString());try{let c=localStorage.getItem("token");if(!c){e.push("/auth/login");return}if(!(await fetch("".concat("https://api.ezsubcontractor.com/api/").concat(s?"common/contractors/unsave":"common/contractors/save"),{method:"POST",headers:{Authorization:"Bearer ".concat(c),Accept:"application/json"},body:a})).ok)throw Error("Failed to ".concat(s?"unsave":"save"," contractor"));let l=new Set(j);s?(l.delete(t),b("Contractor removed from saved list","success")):(l.add(t),b("Contractor saved successfully!","success")),v(l)}catch(e){console.error("Toggle save error:",e),b("Failed to ".concat(s?"unsave":"save"," contractor."),"error")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("div",{className:"sections overflow-hidden",children:(0,a.jsx)("section",{className:"filter-sec pt-5",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsxs)("div",{className:"col-xl-3",children:[(0,a.jsx)("span",{className:"d-block mb-3 fw-semibold fs-4",children:"Filters"}),(0,a.jsx)("span",{className:"d-block mb-2 fw-medium",children:"Browse or Search Directory"}),(0,a.jsxs)("div",{className:"form-wrapper mx-0 flex-nowrap",children:[(0,a.jsx)(n.default,{src:"/assets/img/icons/search-gray.svg",width:18,height:18,alt:"Search Icon"}),(0,a.jsx)("input",{type:"text",placeholder:"Search here"})]}),(0,a.jsx)("span",{className:"d-block mb-2 fw-medium",children:"Type"}),(0,a.jsx)("div",{className:"radio-group d-flex align-items-center gap-2 flex-wrap mb-3",children:["All","Subcontractor","General Contractor"].map((e,t)=>(0,a.jsxs)("label",{className:"radio-option d-flex align-items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",style:{width:"24px",height:"24px"},className:"mb-0",name:"subscription",value:e.toLowerCase(),defaultChecked:"Yearly"===e}),(0,a.jsx)("span",{className:"fs-14 fw-medium",children:e})]},t))}),(0,a.jsx)("span",{className:"d-block mb-2 fw-medium",children:"City"}),(0,a.jsx)("input",{type:"text",placeholder:"Whittier, CA"}),(0,a.jsx)("span",{className:"d-block mb-2 fw-medium",children:"Zip Code"}),(0,a.jsx)("input",{type:"text",placeholder:"29391"}),(0,a.jsxs)("div",{className:"range-wrapper mb-5",children:[(0,a.jsx)("div",{className:"range-container",children:(0,a.jsxs)("div",{className:"slider-wrap",children:[(0,a.jsx)("input",{type:"range",min:"0",max:"100",defaultValue:"2",id:"milesRange",className:"range-slider"}),(0,a.jsx)("div",{className:"range-value",children:"2 miles"})]})}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsx)("span",{className:"min",children:"0 miles"}),(0,a.jsx)("span",{className:"max",children:"100 miles"})]})]})]}),(0,a.jsx)("div",{className:"col-xl-9",children:d&&1===x?(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,a.jsx)("p",{className:"mt-2",children:"Loading contractors..."})]}):h?(0,a.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill me-2",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,a.jsx)("div",{children:h})]}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)(n.default,{src:"/assets/img/post.webp",width:120,height:120,alt:"No contractors",className:"mb-3"}),(0,a.jsx)("p",{className:"text-muted",children:"No contractors found."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"row g-3",children:t.map(t=>(0,a.jsx)("div",{className:"col-lg-4 col-md-6",children:(0,a.jsxs)("div",{className:"filter-card",children:[(0,a.jsx)("button",{className:"icon bg-white ".concat(j.has(t.id)?"saved":"save"),"aria-label":j.has(t.id)?"Remove from saved":"Save contractor",onClick:e=>{e.preventDefault(),e.stopPropagation(),y(t.id)},children:(0,a.jsx)(n.default,{src:j.has(t.id)?"/assets/img/bookmark-filled.svg":"/assets/img/bookmark-outline.svg",width:16,height:16,alt:"save"})}),(0,a.jsxs)("button",{className:"btn border-0 mx-auto d-block",onClick:s=>{s.preventDefault(),localStorage.setItem("selectedContractor",JSON.stringify(t)),e.push("/affiliate/contractor-details")},children:[(0,a.jsx)(n.default,{src:t.profile_image_url||"/assets/img/profile-placeholder.webp",width:104,height:104,className:"d-block mx-auto mb-3 rounded-circle",alt:"".concat(t.name,"'s Profile"),style:{objectFit:"cover"}}),(0,a.jsx)("div",{style:{color:"#333342"},className:"title text-black fw-semibold text-center fs-5 mb-2 text-capitalize",children:t.company_name||t.name})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:s=>{s.preventDefault(),localStorage.setItem("selectedContractor",JSON.stringify(t)),e.push("/affiliate/contractor-details")},className:"btn btn-primary py-2 px-4 mx-auto mb-3 shadow-none text-capitalize",children:t.role})}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2 flex-wrap mb-2 flex-nowrap",children:[(0,a.jsx)(n.default,{src:"/assets/img/icons/message-dark.svg",width:20,height:20,alt:"Message Icon"}),(0,a.jsx)("a",{href:"mailto:".concat(t.email),className:"text-dark fw-medium text-truncate",children:t.email})]}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2 flex-wrap mb-3",children:[(0,a.jsx)(n.default,{src:"/assets/img/icons/call-dark.svg",width:20,height:20,alt:"Call Icon"}),(0,a.jsx)("a",{href:"tel:".concat(t.phone),className:"text-dark fw-medium",children:t.phone})]}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2 flex-wrap",children:[(0,a.jsx)(i.default,{href:{pathname:"/messages",query:{userId:t.id,name:t.name,email:t.email,phone:t.phone,companyName:t.company_name}},className:"icon",children:(0,a.jsx)(n.default,{src:"/assets/img/icons/Chat.svg",width:20,height:20,alt:"Icon"})}),(0,a.jsx)(i.default,{href:"mailto:".concat(t.email),className:"icon",children:(0,a.jsx)(n.default,{src:"/assets/img/icons/message-white.svg",width:20,height:20,alt:"Icon"})}),(0,a.jsx)(i.default,{href:"tel:".concat(t.phone),className:"icon",children:(0,a.jsx)(n.default,{src:"/assets/img/icons/call-white.svg",width:20,height:20,alt:"Icon"})})]})]})},t.id))}),p&&(0,a.jsx)("div",{className:"text-center my-5",children:(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(!d&&p){let e=x+1;f(e),N(!1,e)}},disabled:d,children:d?"Loading...":"Load More"})})]})})]})})})}),(0,a.jsx)(o.Z,{})]})}s(86689)},36037:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(57437),c=s(87138),l=s(66648),n=s(2265);function i(){let[e,t]=(0,n.useState)("");return(0,a.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,a.jsx)(c.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,a.jsx)(l.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,a.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Menu"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/subscription",children:"Free Trial"})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/how-it-works",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Other"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/faq",children:"FAQs"})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,a.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(l.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,a.jsx)(c.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,a.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,a.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,a.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,a.jsx)(c.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}s(62562)},62562:function(){},86689:function(){}},function(e){e.O(0,[9412,8305,6628,4974,8148,2971,7023,1744],function(){return e(e.s=65198)}),_N_E=e.O()}]);