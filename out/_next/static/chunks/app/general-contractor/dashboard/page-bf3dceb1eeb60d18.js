(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8359],{44241:function(e,t,s){Promise.resolve().then(s.bind(s,948))},36037:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(57437),l=s(87138),r=s(66648),n=s(2265);function i(){let[e,t]=(0,n.useState)("");return(0,a.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,a.jsx)(l.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,a.jsx)(r.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,a.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Menu"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/subscription",children:"Free Trial"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/how-it-works",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Other"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/faq",children:"FAQs"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,a.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(r.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,a.jsx)(l.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,a.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,a.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,a.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,a.jsx)(l.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}s(62562)},948:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(57437),l=s(2265),r=s(66648),n=s(87138),i=s(16463),c=s(18148),o=s(36037);s(86689);var d=s(43153);function m(){var e;let t;let s=(0,i.useRouter)(),[m,x]=(0,l.useState)([]),[g,f]=(0,l.useState)([]),[j,b]=(0,l.useState)(!0),[v,w]=(0,l.useState)(null),[N,y]=(0,l.useState)(null),[S,k]=(0,l.useState)(null),[C,F]=(0,l.useState)(""),[E,z]=(0,l.useState)([]),[P,A]=(0,l.useState)(!1),[I,L]=(0,l.useState)(!1),_=(0,l.useRef)(null),B=(0,l.useRef)(null),[R,T]=(0,l.useState)(!1),[M,D]=(0,l.useState)(0),[H,Z]=(0,l.useState)(""),[O,U]=(0,l.useState)(null),[q,W]=(0,l.useState)(!1),[Y,V]=(0,l.useState)(null),[J,Q]=(0,l.useState)([]),[$,G]=(0,l.useState)([]),[K,X]=(0,l.useState)([]),[ee,et]=(0,l.useState)([]),[es,ea]=(0,l.useState)(!0),[el,er]=(0,l.useState)(!0),[en,ei]=(0,l.useState)(null),[ec,eo]=(0,l.useState)(null);(0,l.useRef)(null);let ed=(0,l.useRef)(null);(0,l.useRef)(null);let em=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=document.createElement("div");s.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: '.concat("success"===t?"#d4edda":"#f8d7da",";\n                color: ").concat("success"===t?"#155724":"#721c24",";\n                border: 1px solid ").concat("success"===t?"#c3e6cb":"#f5c6cb",';\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>').concat("success"===t?"✅":"❌"," ").concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(s);let a=setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},4e3),l=s.querySelector(".btn-close");null==l||l.addEventListener("click",()=>{clearTimeout(a),s.parentNode&&s.parentNode.removeChild(s)})},eh=e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},eu=e=>{y(e),k(null);let t=document.getElementById("deleteProjectModal");t&&window.bootstrap&&new window.bootstrap.Modal(t).show()},ep=async()=>{if(N){k(null);try{let e=localStorage.getItem("token");if(!e)throw Error("Not authenticated");let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/projects/delete/").concat(N),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}}),s=await t.json().catch(()=>null);if(!t.ok)throw Error((null==s?void 0:s.message)||"Failed to delete project");f(e=>e.filter(e=>e.id!==N)),em("Project deleted successfully!");let a=document.getElementById("deleteProjectModal");if(a&&window.bootstrap){let e=window.bootstrap.Modal.getInstance(a);null==e||e.hide()}}catch(e){console.error("Delete error:",e),k(e.message||"Failed to delete project."),em(e.message||"Failed to delete project.","error")}finally{y(null)}}},ex=e=>{if(null==e)return"0";let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"0":t.toFixed(1).replace(/\.0$/,"")},eg=async()=>{ea(!0),ei(null);try{await new Promise(e=>setTimeout(e,300)),G([{id:1,src:"/assets/img/add1.jpg",alt:"Construction Project 1"},{id:2,src:"/assets/img/add1.jpg",alt:"Construction Project 2"},{id:3,src:"/assets/img/add1.jpg",alt:"Construction Project 3"}])}catch(e){console.error("Failed to load banner images:",e),ei("Failed to load banner images"),G([{id:1,src:"/assets/img/add1.jpg",alt:"Default Banner"}])}finally{ea(!1)}},ef=async()=>{er(!0),eo(null);try{await new Promise(e=>setTimeout(e,300)),X([{id:1,src:"/assets/img/add2.jpg",alt:"Construction Project 1"},{id:2,src:"/assets/img/add2.jpg",alt:"Construction Project 2"},{id:3,src:"/assets/img/add2.jpg",alt:"Construction Project 3"}])}catch(e){console.error("Failed to load banner images:",e),eo("Failed to load banner images"),X([{id:1,src:"/assets/img/add2.webp",alt:"Default Banner"}])}finally{er(!1)}};(0,l.useEffect)(()=>{eg(),(async()=>{b(!0),w(null);try{var e,t,a;let l=localStorage.getItem("token");if(!l){w("Authentication required."),s.push("/auth/login");return}let r=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/projects/my-projects?perPage=4&page=1"),{headers:{Authorization:"Bearer ".concat(l),Accept:"application/json"}});if(401===r.status){localStorage.removeItem("token"),w("Session expired. Please log in again."),s.push("/auth/login");return}let n=await r.json();if(!r.ok)throw Error((null===(a=n.message)||void 0===a?void 0:a[0])||"Failed to load projects");let i=[];(null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.projects)||void 0===e?void 0:e.data)&&Array.isArray(n.data.projects.data)&&(i=[...n.data.projects.data].reverse()),f(i)}catch(e){w(e.message||"Failed to load projects."),em(e.message||"Failed to load projects.","error")}finally{b(!1)}})()},[s]),(0,l.useEffect)(()=>{(async()=>{b(!0),w(null);try{let t=localStorage.getItem("token");if(!t){w("Authentication required.");return}let s=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/contractors/latest-rated?limit=3"),{headers:{Authorization:"Bearer ".concat(t),Accept:"application/json"}});if(401===s.status){w("Session expired."),localStorage.removeItem("token");return}let a=await s.json();if(!s.ok){var e;throw Error((null===(e=a.message)||void 0===e?void 0:e[0])||"Failed to load contractors")}if(null==a?void 0:a.success){let e=Array.isArray(a.data)?[...a.data].slice(0,3):[];Q(e)}else throw Error("Invalid response format")}catch(e){w(e.message||"Failed to load contractors."),em(e.message||"Failed to load contractors.","error")}finally{b(!1)}})()},[]),(0,l.useEffect)(()=>{eg(),ef()},[]);let ej=(0,l.useCallback)((e=async e=>{if(!e.trim()){z([]),A(!1);return}L(!0);try{var t;let s=localStorage.getItem("token"),a=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/contractors?page=1&perPage=20&search=").concat(encodeURIComponent(e)),{headers:{Authorization:s?"Bearer ".concat(s):"",Accept:"application/json"}}),l=await a.json(),r=(null==l?void 0:null===(t=l.data)||void 0===t?void 0:t.data)||[];console.log(r),z(r),A(!0)}catch(e){console.error("Search failed:",e),z([]),em("Search failed. Please try again.","error")}finally{L(!1)}},function(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return clearTimeout(t),new Promise(s=>{t=setTimeout(()=>s(e(...a)),300)})}),[]);(0,l.useEffect)(()=>{ej(C)},[C,ej]),(0,l.useEffect)(()=>{let e=e=>{_.current&&!_.current.contains(e.target)&&B.current&&!B.current.contains(e.target)&&A(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let eb=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ev=async()=>{if(Y&&0!==M){W(!0),U(null);try{let t=localStorage.getItem("token");if(!t)throw Error("Not authenticated");let s=new FormData;s.append("rated_user_id",Y.id.toString()),s.append("rating",M.toString()),s.append("comment",H.trim());let a=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/rating/add"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:s}),l=await a.json();if(console.log(l),!a.ok){var e;throw Error((null===(e=l.message)||void 0===e?void 0:e[0])||"Failed to submit rating")}em("Rating submitted successfully!"),T(!1),V(null),D(0),Z("")}catch(e){console.error("Rating error:",e),U(e.message||"Failed to submit rating. Please try again."),em(e.message||"Failed to submit rating. Please try again.","error")}finally{W(!1)}}};return(0,a.jsxs)("div",{className:"sections overflow-hidden",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("section",{className:"banner-sec trial position-static",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsx)("div",{className:"col-lg-6 position-relative",children:es?(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-light rounded-4",style:{height:"352px"},children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading banner..."})})}):en?(0,a.jsx)("div",{className:"alert alert-warning d-flex align-items-center",style:{height:"352px"},children:en}):(0,a.jsx)("div",{className:"slider rounded overflow-hidden",children:(0,a.jsx)(d.Z,{ref:ed,dots:!0,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,arrows:!1,autoplay:!0,autoplaySpeed:4e3,pauseOnHover:!0,children:$.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(r.default,{src:e.src,width:800,height:230,alt:e.alt,className:"img-fluid w-100 h-100 rounded-4 object-fit-cover "})},e.id))})})}),(0,a.jsx)("div",{className:"col-lg-6",children:el?(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-light rounded-4",style:{height:"352px"},children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading banner..."})})}):ec?(0,a.jsx)("div",{className:"alert alert-warning d-flex align-items-center",style:{height:"352px"},children:ec}):(0,a.jsxs)("div",{className:"slider slider-bottom-fade slider-arrow-right-bottom rounded overflow-hidden position-relative",children:[(0,a.jsx)(d.Z,{ref:ed,dots:!1,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:4e3,pauseOnHover:!0,children:K.map(e=>(0,a.jsx)(r.default,{src:e.src,width:800,height:300,alt:e.alt,className:"img-fluid w-100 h-100 rounded-4 object-fit-cover "},e.id))}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3 position-absolute z-3",style:{bottom:20,left:20},children:[(0,a.jsx)("div",{className:"bg-white rounded-circle p-2 shadow",children:(0,a.jsx)(r.default,{className:"img-fluide",src:"/assets/img/icons/fav.png",width:50,height:50,alt:"icon"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"fw-bold mb-0 text-white",children:"ABC Corporation"}),(0,a.jsx)("p",{className:"mb-0 text-white",children:"John A"})]})]})]})})]})})}),(0,a.jsx)("section",{className:"review mb-5",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)("div",{className:"review-wrapper mb-4",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center text-center text-md-start flex-column flex-md-row gap-3 justify-content-between filter-sec p-0 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"fs-3 fw-semibold mb-1 mb-md-3",children:"Rate a Subcontractor"}),(0,a.jsx)("div",{className:"fs-14 fw-semibold",children:"Recently rated contractors"})]}),(0,a.jsxs)("div",{className:"search-wrapper position-relative w-100",style:{maxWidth:"400px"},children:[(0,a.jsxs)("div",{className:"form-wrapper mb-0 d-flex align-items-center px-3 py-0 me-0",children:[(0,a.jsx)("input",{ref:B,type:"text",value:C,onChange:e=>F(e.target.value),onFocus:()=>C.trim()&&A(!0),placeholder:"Search subcontractor by name or company",className:"form-control pe-5 shadow-none",style:{paddingRight:"32px",height:"40px"}}),(0,a.jsx)("div",{style:{position:"absolute",right:"20px",pointerEvents:"none"},children:I?(0,a.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):(0,a.jsx)(r.default,{src:"/assets/img/icons/search-gray.svg",width:18,height:18,alt:"Search Icon"})})]}),(0,a.jsx)("div",{className:"text-center text-md-end mt-3",children:(0,a.jsx)(n.default,{href:"/general-contractor/reviews",className:"text-dark border-bottom me-0 d-inline-block fs-12",children:"View More"})}),(P||I)&&E.length>0&&(0,a.jsx)("ul",{ref:_,className:"list bg-white shadow-sm px-2 py-1 rounded-4 position-absolute w-100 z-1",style:{maxHeight:"300px",overflowY:"auto",marginTop:"4px",top:"40px"},children:E.map(e=>(0,a.jsxs)("li",{className:"d-flex justify-content-between align-items-center bg-gray p-2 my-1 rounded-3 gap-2",children:[(0,a.jsxs)("span",{className:"d-flex align-items-center gap-2",children:[e.profile_image_url?(0,a.jsx)(r.default,{className:"avatar rounded-circle",src:e.profile_image_url,width:40,height:40,alt:"Search Icon"}):(0,a.jsx)(r.default,{className:"avatar rounded-circle",src:"/assets/img/profile-placeholder.webp",width:40,height:40,alt:"Search Icon"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"name d-block fw-medium text-truncate",children:e.name}),(0,a.jsx)("span",{className:"company d-block fs-12 fw-bold text-truncate",style:{color:"#8F9B1F"},children:e.company_name||"—"}),(0,a.jsx)("span",{className:"address d-block fs-12",children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):""})]})]}),(0,a.jsx)("button",{type:"button",className:"btn btn-outline-dark btn-sm fs-12 py-1 px-3",onClick:()=>{V(e),T(!0),D(0),Z(""),U(null)},children:"Rate"})]},e.id))}),P&&!I&&0===E.length&&C.trim()&&(0,a.jsx)("ul",{ref:_,className:"list bg-white shadow-sm px-2 py-1 rounded-4 position-absolute w-100 z-1",style:{marginTop:"4px"},children:(0,a.jsx)("li",{className:"p-2 text-center text-muted",children:"No subcontractors found"})})]})]}),(0,a.jsx)("div",{className:"review-card-s1 p-0 bg-transparent",children:j?(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,a.jsx)("p",{className:"mt-3",children:"Loading contractors..."})]}):v?(0,a.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill me-2",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,a.jsx)("div",{children:v})]}):(0,a.jsx)("div",{className:"row g-4",children:J.length>0?J.map(e=>(0,a.jsx)("div",{className:"col-lg-4 col-md-6",children:(0,a.jsxs)("div",{className:"review-inner-card",children:[(0,a.jsxs)("div",{className:"top d-flex gap-2 justify-content-between flex-wrap mb-2",children:[(0,a.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-2",children:[e.profile_image_url?(0,a.jsx)(r.default,{className:"avatar rounded-circle",src:e.profile_image_url,width:40,height:40,alt:"Search Icon"}):(0,a.jsx)(r.default,{className:"avatar rounded-circle",src:"/assets/img/profile-placeholder.webp",width:40,height:40,alt:"Search Icon"}),(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"fw-semibold fs-14 mb-1 text-capitalize",children:e.name}),(0,a.jsx)("div",{style:{color:"#8F9B1F"},className:"fw-semibold fs-14",children:e.company_name||"Unknown Company"})]})]}),(0,a.jsx)("div",{className:"date fs-12 text-gray-light mt-1",children:eb(e.created_at)})]}),(0,a.jsxs)("div",{className:"bottom d-flex align-items-center justify-content-between gap-2 flex-wrap",children:[(0,a.jsx)("div",{className:"fs-12 fw-medium",children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):"Location not available"}),(0,a.jsxs)("div",{className:"right d-flex align-items-center gap-2 flex-wrap",children:[(0,a.jsx)("div",{className:"rating-icons d-flex align-items-center gap-1",children:[,,,,,].fill(0).map((t,s)=>{let l=s+1,n=parseFloat(e.average_rating)||0,i=l<=Math.floor(n);return(0,a.jsx)(r.default,{src:i?"/assets/img/start1.svg":!i&&l<=n+.5?"/assets/img/star2.svg":"/assets/img/star-empty.svg",width:14,height:14,alt:"Star Icon",loading:"lazy"},s)})}),(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"fs-12",children:[ex(e.average_rating),"/5"]})})]})]})]})},e.id)):(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(r.default,{src:"/assets/img/post.webp",width:120,height:120,alt:"No contractors",className:"mb-3"}),(0,a.jsx)("p",{className:"text-muted",children:"No contractors found."})]})})})})]}),(0,a.jsxs)("div",{className:"bar d-flex align-items-center gap-2 justify-content-between flex-wrap mb-4",children:[(0,a.jsx)("div",{className:"fs-4 fw-semibold",children:"My Projects"}),(0,a.jsxs)("button",{onClick:()=>s.push("/general-contractor/add-project"),className:"btn btn-primary rounded-3 d-flex align-items-center gap-2",children:[(0,a.jsx)(r.default,{src:"/assets/img/icons/plus.svg",width:12,height:12,alt:"Icon"}),(0,a.jsx)("span",{children:"Add Project"})]})]}),j?(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,a.jsx)("p",{className:"mt-3",children:"Loading your recent projects..."})]}):v?(0,a.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill me-2",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,a.jsx)("div",{children:v})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"row g-3 mb-4",children:g.length>0?g.map((e,t)=>{var l,r;return(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"project-card call-dark custom-card",children:[(0,a.jsxs)("div",{className:"bar d-flex align-items-center justify-content-between gap-2 flex-wrap mb-3",children:[(0,a.jsx)("div",{className:"fs-5 fw-semibold",children:(null===(l=e.category)||void 0===l?void 0:l.name)||"".concat(e.city,", ").concat(e.state)}),(0,a.jsx)("span",{className:"btn p-1 ps-3 pe-3",style:{backgroundColor:u(e.status),color:h(e.status)},children:p(e.status)})]}),(0,a.jsx)("p",{className:"description mb-3",children:m.includes(t)?e.description:(null===(r=e.description)||void 0===r?void 0:r.replace(/<[^>]*>/g,"").slice(0,150))+"..."}),(0,a.jsx)("button",{className:"see-more-btn mb-3 d-block d-none",onClick:()=>eh(t),children:m.includes(t)?"See less":"See more"}),(0,a.jsxs)("div",{className:"buttons d-flex align-items-center gap-2 flex-wrap-md",children:[(0,a.jsx)("button",{className:"btn btn-primary rounded-3 w-100 justify-content-center",onClick:()=>s.push("/general-contractor/project-details?id=".concat(e.id)),children:"View Details"}),(0,a.jsx)("button",{className:"btn bg-dark rounded-3 w-100 justify-content-center text-white",onClick:()=>s.push("/general-contractor/edit-project?id=".concat(e.id)),children:"Edit"}),(0,a.jsx)("button",{className:"btn bg-danger rounded-3 w-100 justify-content-center text-white",onClick:()=>eu(e.id),children:"Delete"})]})]})},e.id)}):(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(r.default,{src:"/assets/img/post.webp",width:120,height:120,alt:"No projects",className:"mb-3"}),(0,a.jsx)("p",{className:"text-muted",children:"You haven't posted any projects yet."})]})})}),(0,a.jsxs)(n.default,{href:"/general-contractor/my-projects",className:"btn bg-dark rounded-3 mx-auto d-block w-fit",children:[(0,a.jsx)("span",{className:"text-white me-2",children:"See All Projects"}),(0,a.jsx)(r.default,{src:"/assets/img/icons/arrow-white.svg",width:12,height:12,alt:"Icon"})]})]})]})}),(0,a.jsx)("div",{className:"modal fade",id:"deleteProjectModal",tabIndex:-1,"aria-labelledby":"deleteProjectModalLabel","aria-hidden":"true",children:(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,a.jsxs)("div",{className:"modal-content",children:[(0,a.jsxs)("div",{className:"modal-header border-0",children:[(0,a.jsx)("h5",{className:"modal-title",id:"deleteProjectModalLabel",children:"Delete Project"}),(0,a.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,a.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete this project? This action cannot be undone.",S&&(0,a.jsx)("div",{className:"alert alert-danger mt-3 p-2 mb-0",children:S})]}),(0,a.jsxs)("div",{className:"modal-footer border-0",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),(0,a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:ep,disabled:null===N,children:"Delete"})]})]})})}),R&&Y&&(0,a.jsx)("div",{className:"modal-backdrop show",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",zIndex:1050}}),R&&Y&&(0,a.jsxs)("div",{className:"modal show d-block",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1060,maxWidth:"400px",width:"90%",height:"330px",backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("div",{className:"modal-header border-0 mb-0 py-0 px-0",children:[(0,a.jsx)("h5",{className:"modal-title text-center w-100 mb-0 py-0 px-0",children:"Rate Now"}),(0,a.jsx)("button",{type:"button",className:"btn-close shadow-none",onClick:()=>{T(!1),V(null),D(0),Z(""),U(null)},"aria-label":"Close"})]}),(0,a.jsxs)("div",{className:"modal-body text-center",children:[(0,a.jsx)("img",{src:"/assets/img/placeholder-round.png",alt:"Contractor",className:"rounded-circle mb-1",style:{width:"60px",height:"60px",objectFit:"cover"}}),(0,a.jsx)("h6",{className:"mb-1 text-capitalize",children:Y.name}),(0,a.jsx)("h6",{className:"mb-1 text-capitalize mb-3 text-primary",children:Y.company_name}),(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center gap-1 mb-4",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{type:"button",className:"border-0 bg-transparent p-0",onClick:()=>D(e),onMouseEnter:()=>{},style:{cursor:"pointer"},children:(0,a.jsx)(r.default,{src:e<=M?"/assets/img/start1.svg":e<=M+.5?"/assets/img/star2.svg":"/assets/img/star-empty.svg",width:32,height:32,alt:"Star ".concat(e),className:"mx-1"})},e))}),O&&(0,a.jsx)("div",{className:"alert alert-danger mt-2 p-2 mb-3 text-start",children:O}),(0,a.jsxs)("div",{className:"d-flex gap-2",children:[(0,a.jsx)("button",{className:"btn btn-outline-dark justify-content-center w-50 rounded-2",onClick:()=>{T(!1),V(null),D(0),Z(""),U(null)},disabled:q,children:"Cancel"}),(0,a.jsx)("button",{className:"btn btn-primary w-50 justify-content-center rounded-2",style:{height:50},onClick:ev,disabled:q||0===M,children:q?(0,a.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):"Done"})]})]})]}),(0,a.jsx)(o.Z,{})]})}let h=e=>{switch(e.toLowerCase()){case"hired":return"#007AFF";case"active":return"#61BA47";case"pending":return"#FF9500";case"completed":default:return"#8E8E93";case"cancelled":return"#FF3B30"}},u=e=>"".concat(h(e),"10"),p=e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}},62562:function(){},86689:function(){}},function(e){e.O(0,[9412,8305,6628,4974,7027,8148,2971,7023,1744],function(){return e(e.s=44241)}),_N_E=e.O()}]);