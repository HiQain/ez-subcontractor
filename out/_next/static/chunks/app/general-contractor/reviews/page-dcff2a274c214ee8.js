(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8295],{28440:function(e,s,t){Promise.resolve().then(t.bind(t,28818))},16463:function(e,s,t){"use strict";var a=t(71169);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},36037:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(57437),l=t(87138),i=t(66648),r=t(2265);function n(){let[e,s]=(0,r.useState)("");return(0,a.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"footer-main",children:(0,a.jsxs)("div",{className:"row g-3",children:[(0,a.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,a.jsx)(l.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,a.jsx)(i.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,a.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Menu"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/subscription",children:"Free Trial"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/how-it-works",children:"How It Works"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,a.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Other"}),(0,a.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/faq",children:"FAQs"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,a.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,a.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)(i.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,a.jsx)(l.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,a.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,a.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,a.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,a.jsx)(l.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}t(62562)},28818:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(57437),l=t(2265),i=t(66648),r=t(18148),n=t(36037);t(5360);var c=t(16463);function o(){let e=(0,c.useRouter)(),[s,t]=(0,l.useState)(!1),[o,d]=(0,l.useState)("All Ratings"),[m,h]=(0,l.useState)(null),[u,x]=(0,l.useState)([]),[f,g]=(0,l.useState)(!0),[p,j]=(0,l.useState)(null),v=e=>{if(d(e),t(!1),"All Ratings"===e)h(null);else{let s=e.match(/^(\d+)/);h(s?parseInt(s[1],10):null)}},w=e=>[...e].sort((e,s)=>{let t=parseFloat(e.average_rating)||0;return(parseFloat(s.average_rating)||0)-t});(0,l.useEffect)(()=>{(async()=>{g(!0),j(null);try{let s=localStorage.getItem("token");if(!s){j("Authentication required.");return}let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/contractors/latest-rated"),{headers:{Authorization:"Bearer ".concat(s),Accept:"application/json"}});if(401===t.status){j("Session expired. Please log in again."),localStorage.removeItem("token");return}let a=await t.json();if(!t.ok){var e;throw Error((null===(e=a.message)||void 0===e?void 0:e[0])||"Failed to load contractors")}if(null==a?void 0:a.success)x(w(a.data));else throw Error("Invalid response format")}catch(e){console.error("Fetch error:",e),j(e.message||"Failed to load contractors.")}finally{g(!1)}})()},[]);let N=w(u.filter(e=>{if(null===m)return!0;let s=parseFloat(e.average_rating)||0;return s>=m&&s<m+1})),b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,a.jsxs)("div",{className:"sections overflow-hidden",children:[(0,a.jsx)(r.Z,{}),(0,a.jsx)("section",{className:"banner-sec profile review",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"review-wrapper p-0 shadow-none",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between right-bar p-0 mb-5 flex-wrap",children:[(0,a.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.back(),className:"icon","aria-label":"Go back",style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:(0,a.jsx)(i.default,{src:"/assets/img/button-angle.svg",width:10,height:15,alt:"Back"})}),(0,a.jsx)("span",{className:"fs-4 fw-semibold",children:"Ratings"})]}),(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)("div",{style:{whiteSpace:"nowrap"},className:"fw-medium",children:(0,a.jsx)("span",{children:"Filter by:"})}),(0,a.jsx)("div",{className:"input-wrapper d-flex flex-column position-relative w-100",children:(0,a.jsxs)("div",{style:{minWidth:"200px"},className:"custom-select p-0 w-100 ".concat(s?"open":""),onClick:()=>t(!s),children:[(0,a.jsx)("div",{style:{maxWidth:"200px"},className:"select-selected w-100",children:o}),(0,a.jsx)("i",{className:"bi bi-chevron-down select-arrow"}),(0,a.jsx)("ul",{className:"select-options",children:["All Ratings","5 Star","4 Star","3 Star","2 Star","1 Star"].map((e,s)=>(0,a.jsx)("li",{onClick:s=>{s.stopPropagation(),v(e)},children:e},s))})]})})]})]}),(0,a.jsx)("div",{className:"review-card-s1 p-0 bg-transparent",children:f?(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,a.jsx)("p",{className:"mt-3",children:"Loading contractors..."})]}):p?(0,a.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill me-2",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,a.jsx)("div",{children:p})]}):(0,a.jsx)("div",{className:"row g-4 mb-5",children:N.length>0?N.map(e=>(0,a.jsx)("div",{className:"col-lg-4 col-md-6",children:(0,a.jsxs)("div",{className:"review-inner-card",children:[(0,a.jsxs)("div",{className:"top d-flex align-items-center gap-2 justify-content-between flex-wrap mb-2",children:[(0,a.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-2",children:[(0,a.jsx)(i.default,{src:"/assets/img/profile-img.webp",width:40,height:40,alt:"Card Image",loading:"lazy"}),(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("div",{className:"fw-semibold fs-14 mb-1 text-capitalize",children:e.name}),(0,a.jsx)("div",{style:{color:"#8F9B1F"},className:"fw-semibold fs-14",children:e.company_name||"Unknown Company"})]})]}),(0,a.jsx)("div",{className:"date fs-12 text-gray-light",children:b(e.created_at)})]}),(0,a.jsxs)("div",{className:"bottom d-flex align-items-center justify-content-between gap-2 flex-wrap",children:[(0,a.jsx)("div",{className:"fs-12 fw-medium",children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):"Location not available"}),(0,a.jsxs)("div",{className:"right d-flex align-items-center gap-2 flex-wrap",children:[(0,a.jsx)("div",{className:"rating-icons d-flex align-items-center gap-1",children:[,,,,,].fill(0).map((s,t)=>{let l=t+1,r=parseFloat(e.average_rating)||0,n=l<=Math.floor(r);return(0,a.jsx)(i.default,{src:n?"/assets/img/start1.svg":!n&&l<=r+.5?"/assets/img/star2.svg":"/assets/img/star-empty.svg",width:14,height:14,alt:"Star Icon",loading:"lazy"},t)})}),(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)("div",{className:"fs-12",children:[parseFloat(e.average_rating).toFixed(1),"/5"]})})]})]})]})},e.id)):(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(i.default,{src:"/assets/img/post.webp",width:120,height:120,alt:"No contractors",className:"mb-3"}),(0,a.jsx)("p",{className:"text-muted",children:m?"No subcontractors with ".concat(m,"-star ratings found."):"No subcontractors found."})]})})})})]})})}),(0,a.jsx)(n.Z,{})]})}},62562:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,4974,8148,2971,7023,1744],function(){return e(e.s=28440)}),_N_E=e.O()}]);