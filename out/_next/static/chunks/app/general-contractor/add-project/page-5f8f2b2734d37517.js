(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6994],{16309:function(e,t,a){Promise.resolve().then(a.bind(a,15350))},36037:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(57437),i=a(87138),n=a(66648),l=a(2265);function r(){let[e,t]=(0,l.useState)("");return(0,s.jsx)("footer",{className:"footer",style:{backgroundImage:"url('/assets/img/footer-bg.webp')",backgroundSize:"cover",backgroundPosition:"center"},children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"footer-main",children:(0,s.jsxs)("div",{className:"row g-3",children:[(0,s.jsxs)("div",{className:"col-lg-4 col-sm-6",children:[(0,s.jsx)(i.default,{href:"/",className:"footer-logo d-flex justify-content-center mb-4",style:{width:"fit-content"},"aria-label":"Home",children:(0,s.jsx)(n.default,{src:"/assets/img/icons/footer-logo.webp",width:175,height:49,alt:"EZ Subcontractor Logo",loading:"lazy"})}),(0,s.jsx)("p",{className:"text-white",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text."})]}),(0,s.jsxs)("div",{className:"col-6 col-lg-2 offset-lg-1 col-sm-6",children:[(0,s.jsx)("div",{className:"footer-title",children:"Menu"}),(0,s.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/subscription",children:"Free Trial"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/how-it-works",children:"How It Works"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/blogs",children:"Blogs"})})]})]}),(0,s.jsxs)("div",{className:"col-6 col-lg-2 col-sm-6",children:[(0,s.jsx)("div",{className:"footer-title",children:"Other"}),(0,s.jsxs)("ul",{className:"footer-links m-0 p-0",children:[(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/faq",children:"FAQs"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/terms-and-conditions",children:"Terms & Conditions"})}),(0,s.jsx)("li",{children:(0,s.jsx)(i.default,{href:"/privacy-policy",children:"Privacy Policy"})})]})]}),(0,s.jsxs)("div",{className:"col-lg-3 col-sm-6",children:[(0,s.jsx)("div",{className:"footer-title",children:"Reach Us:"}),(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,s.jsx)("div",{className:"icon",children:(0,s.jsx)(n.default,{src:"/assets/img/icons/message-green.svg",width:15,height:15,alt:"Email",loading:"lazy"})}),(0,s.jsx)(i.default,{href:"mailto:info@ezsubcontractor.com",className:"text-decoration-none",style:{color:"#E6EE9D"},children:"info@ezsubcontractor.com"})]})]})]})}),(0,s.jsxs)("div",{className:"footer-bottom pt-3 d-flex align-items-center justify-content-between flex-wrap gap-2",children:[(0,s.jsxs)("div",{className:"left text-white fw-medium",children:["\xa9 ",new Date().getFullYear()," EZ Subcontractor. All Rights Reserved"]}),(0,s.jsxs)("div",{className:"right text-white fw-medium",children:["Developed By:"," ",(0,s.jsx)(i.default,{href:"https://designspartans.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary fw-semibold text-decoration-underline",children:"Design Spartans"})]})]})]})})}a(62562)},15350:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(57437),i=a(2265),n=a(11912),l=a(66648),r=a(57818),o=a(16463),d=a(18148),c=a(36037);a(5360),a(91748),a(18416);var m=a(72964);a(54575);let p=(0,r.default)(()=>Promise.all([a.e(9363),a.e(2516)]).then(a.t.bind(a,98436,23)),{loadableGenerated:{webpack:()=>[98436]},ssr:!1});function h(){let e=(0,o.useRouter)(),[t,r]=(0,i.useState)(""),[h,u]=(0,i.useState)(""),x=(0,i.useRef)(null),[f,g]=(0,i.useState)({}),[j,v]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[y,N]=(0,i.useState)(""),[k,D]=(0,i.useState)(!1),[S,E]=(0,i.useState)([]),[C,P]=(0,i.useState)(!0),[_,F]=(0,i.useState)([]),[z,A]=(0,i.useState)(),[M,L]=(0,i.useState)(),[W,T]=(0,i.useState)();(0,i.useEffect)(()=>()=>{_.forEach(e=>{e.url&&URL.revokeObjectURL(e.url)})},[_]);let R=e=>{g(t=>{let{[e]:a,...s}=t;return s})},O=(e,t)=>a=>{e(a),R(t)},q=(e,t)=>{F(a=>a.map(a=>a.id===e?{...a,description:t}:a))},I=e=>{let t=document.createElement("div");t.innerHTML='\n            <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: 9999;\n                min-width: 300px;\n                background-color: #d4edda;\n                color: #155724;\n                border: 1px solid #c3e6cb;\n                border-radius: 8px;\n                padding: 12px 20px;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                display: flex;\n                align-items: center;\n                gap: 10px;\n                font-weight: 500;\n            ">\n                <span>'.concat(e,'</span>\n                <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n            </div>\n        '),document.body.appendChild(t);let a=setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},4e3),s=t.querySelector(".btn-close");null==s||s.addEventListener("click",()=>{clearTimeout(a),t.parentNode&&t.parentNode.removeChild(t)})},Z=e=>{let t=document.createElement("div");t.innerHTML='\n        <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true" style="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 9999;\n            min-width: 300px;\n            background-color: #f8d7da;\n            color: #721c24;\n            border: 1px solid #f5c6cb;\n            border-radius: 8px;\n            padding: 12px 20px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            font-weight: 500;\n        ">\n            <span>'.concat(e,'</span>\n            <button type="button" class="btn-close" style="font-size: 14px; margin-left: auto;" data-bs-dismiss="toast"></button>\n        </div>\n    '),document.body.appendChild(t);let a=setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3),s=t.querySelector(".btn-close");null==s||s.addEventListener("click",()=>{clearTimeout(a),t.parentNode&&t.parentNode.removeChild(t)})};(0,i.useEffect)(()=>{(async()=>{try{var e;let t=await fetch("".concat("https://api.ezsubcontractor.com/api/","data/specializations"),{headers:{Accept:"application/json"}});if(!t.ok)throw Error("HTTP ".concat(t.status));let a=await t.json(),s=[];Array.isArray(a)?s=a.map(e=>({id:String(e.id),name:e.name})):(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.specializations)&&Array.isArray(a.data.specializations)?s=a.data.specializations.map(e=>({id:String(e.id),name:e.name})):(null==a?void 0:a.data)&&Array.isArray(a.data)&&(s=a.data.map(e=>({id:String(e.id),name:e.name}))),E(s.length>0?s:[{id:"1",name:"Plumbing"},{id:"2",name:"Electric Work"},{id:"3",name:"Framing"},{id:"4",name:"Roofing"}])}catch(e){console.error("Failed to load categories:",e),E([{id:"1",name:"Plumbing"},{id:"2",name:"Electric Work"},{id:"3",name:"Framing"},{id:"4",name:"Roofing"}])}finally{P(!1)}})()},[]),(0,i.useEffect)(()=>{if(C)return;let e=a(40180);return a(48704),a(56260),e("#category-select2").select2({placeholder:"Select category",allowClear:!1,width:"100%",minimumInputLength:0}).on("change",function(){r(e(this).val()||""),R("category")}),()=>{e("#category-select2").select2("destroy")}},[C,S]);let U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={id:"".concat(Date.now(),"-").concat(Math.floor(1e5*Math.random()),"-").concat(t),name:e.name,description:"",file:e};return e.type.startsWith("image/")&&(a.url=URL.createObjectURL(e)),a},B=e=>{F(t=>{let a=t.find(t=>t.id===e);return(null==a?void 0:a.url)&&URL.revokeObjectURL(a.url),t.filter(t=>t.id!==e)})},H=async a=>{a.preventDefault();let s={};if(t||(s.category="Please select a category."),j.trim()||(s.city="City is required."),b.trim()||(s.state="State is required."),y.trim()||(s.zip="Zip Code is required."),z||(s.estimateDueDate="Estimate Due Date is required."),M||(s.startDate="Project Start Date is required."),W||(s.endDate="Project End Date is required."),h.trim()||(s.description="Description is required."),Object.keys(s).length>0){g(s);let e=Object.values(s)[0];Z("Form Error: ".concat(e)),setTimeout(()=>{var e;null===(e=document.querySelector(".text-danger"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},100);return}D(!0),g({});try{let a=localStorage.getItem("token");if(!a||""===a.trim()){let t="Authentication required. Please log in.";g({api:t}),Z(t),e.push("/auth/login");return}let s=new FormData;s.append("title","New Project"),s.append("description",h),s.append("city",j),s.append("state",b),s.append("category_id",t),s.append("zip",y),s.append("estimate_due_date",z?(0,n.WU)(z,"yyyy-MM-dd"):""),s.append("start_date",M?(0,n.WU)(M,"yyyy-MM-dd"):""),s.append("end_date",W?(0,n.WU)(W,"yyyy-MM-dd"):""),s.append("status","active"),_.forEach((e,t)=>{s.append("attachments[".concat(t,"][file]"),e.file,e.name),s.append("attachments[".concat(t,"][description]"),e.description)});let d=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/projects/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(a),Accept:"application/json"},body:s}),c=await d.json();if(401===d.status){g({api:"Session expired. Please log in again."}),localStorage.removeItem("token"),e.push("/auth/login");return}if(!d.ok){var i,l,o;let e="Failed to create project.";if("string"==typeof c.message)Z("Submission Failed: ".concat(e));else if(Array.isArray(c.message))e=c.message[0]||e;else if(c.errors){let t=Object.keys(c.errors)[0];e=(null===(o=c.errors[t])||void 0===o?void 0:o[0])||e}else(null===(l=c.data)||void 0===l?void 0:null===(i=l.status)||void 0===i?void 0:i[0])?e=c.data.status[0]:"string"==typeof c.error&&(e=c.error);g({api:e}),Z("Submission Failed: ".concat(e));return}I("âœ… Project posted successfully!"),r(""),v(""),w(""),N(""),A(null),L(null),T(null),u(""),F([]),window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.error("Network error:",t);let e="Network error. Please check your connection.";g({api:e}),Z("Connection Error: ".concat(e))}finally{D(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{}),(0,s.jsx)("div",{className:"sections overflow-hidden",children:(0,s.jsx)("section",{className:"banner-sec post profile",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"right-bar",children:(0,s.jsx)("div",{className:"d-flex align-items-center gap-3 justify-content-between flex-wrap mb-5",children:(0,s.jsxs)("div",{className:"icon-wrapper d-flex align-items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>e.back(),className:"icon","aria-label":"Go back",children:(0,s.jsx)(l.default,{src:"/assets/img/button-angle.svg",width:10,height:15,alt:"Back"})}),(0,s.jsx)("span",{className:"fs-4 fw-semibold",children:"Add Project"})]})})}),(0,s.jsx)("form",{onSubmit:H,className:"mb-4",children:(0,s.jsxs)("div",{className:"row g-3",children:[(0,s.jsxs)("div",{className:"col-lg-8",children:[(0,s.jsxs)("div",{className:"input-wrapper d-flex flex-column position-relative mb-4",children:[(0,s.jsxs)("label",{htmlFor:"category-select2",className:"mb-1 fw-semibold",children:["Category ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsxs)("select",{id:"category-select2",className:"form-control",value:t,children:[(0,s.jsx)("option",{value:"",children:"Select category"}),S.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),f.category&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f.category})]}),(0,s.jsxs)("div",{className:"row g-4",children:[[{label:"City",value:j,setter:v,field:"city",type:"text",placeholder:"Enter city"},{label:"State",value:b,setter:w,field:"state",type:"text",placeholder:"Enter state"},{label:"Zip Code",value:y,setter:N,field:"zip",type:"text",placeholder:"Enter ZIP"}].map((e,t)=>(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsx)("div",{className:"label mb-1 fw-semibold",children:e.label}),(0,s.jsx)("input",{type:e.type,placeholder:e.placeholder||"",value:e.value,onChange:t=>O(e.setter,e.field)(t.target.value)}),f[e.field]&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f[e.field]})]})},t)),(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsxs)("div",{className:"label mb-1 fw-semibold",children:["Estimate Due Date ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)(m.ZP,{selected:z,onChange:e=>{A(e)},minDate:new Date}),f.estimateDueDate&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f.estimateDueDate})]})}),(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsxs)("div",{className:"label mb-1 fw-semibold",children:["Project Start Date ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)(m.ZP,{selected:M,onChange:e=>{L(e)},minDate:new Date}),f.startDate&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f.startDate})]})}),(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"input-wrapper",children:[(0,s.jsxs)("div",{className:"label mb-1 fw-semibold",children:["Project End Date ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsx)(m.ZP,{selected:W,onChange:e=>{T(e)},minDate:new Date,disabled:!M}),f.endDate&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f.endDate})]})}),(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsxs)("div",{className:"label mb-1 fw-semibold",children:["Description ",(0,s.jsx)("span",{className:"text-danger",children:"*"})]}),(0,s.jsxs)("div",{className:"input-wrapper mb-5 d-block",children:[(0,s.jsx)(p,{theme:"snow",value:h,onChange:e=>{u(e),R("description")},placeholder:"Write project description..."}),f.description&&(0,s.jsx)("span",{className:"text-danger animate-slide-up",children:f.description})]})]})]}),(0,s.jsx)("div",{className:"mb-2 fw-semibold fs-5",children:"Documents Description"}),(0,s.jsx)("div",{className:"documents-wrapper mb-4",children:0===_.length?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.default,{src:"/assets/img/post.webp",className:"d-block mx-auto mb-2",width:166,height:161,alt:"No Document",loading:"lazy"}),(0,s.jsx)("div",{className:"fs-14 fw-medium",children:"No Document added"})]}):_.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"document-item mb-3 p-2 border rounded d-flex align-items-center justify-content-between",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[e.name.endsWith(".pdf")?(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg",width:24,height:24,alt:"PDF",className:"me-2"}):e.name.endsWith(".doc")||e.name.endsWith(".docx")?(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/4/43/Microsoft_Word_2013_logo.svg",width:24,height:24,alt:"DOC",className:"me-2"}):e.url?(0,s.jsx)(l.default,{src:e.url,width:24,height:24,alt:e.name,className:"me-2",unoptimized:!0}):(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/4/48/Image_file_icon.svg",width:24,height:24,alt:"File",className:"me-2"}),(0,s.jsx)("span",{className:"d-block fs-14 fw-semibold",children:e.name})]}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger p-0 px-2 rounded-circle",onClick:()=>B(e.id),"aria-label":"Remove file",style:{width:25,height:25},children:"\xd7"})]}),(0,s.jsx)("div",{className:"input-wrapper w-100 mt-2 mb-4",children:(0,s.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter description (e.g., 'Blueprint', 'Permit')",value:e.description,onChange:t=>q(e.id,t.target.value)})})]},e.id))}),f.api&&(0,s.jsx)("div",{className:"my-4",children:(0,s.jsx)("p",{className:"text-danger animate-slide-up",children:f.api})}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary rounded-3 w-100 justify-content-center mt-4",disabled:k,children:k?"Submitting...":"Add Project"})]}),(0,s.jsx)("div",{className:"col-lg-4",children:(0,s.jsxs)("div",{className:"attachment-wrapper",children:[(0,s.jsx)("div",{className:"fw-semibold mb-3",children:"Attachment"}),(0,s.jsxs)("div",{className:"attachment-box",id:"dropZone",onDrop:e=>{e.preventDefault();let t=Array.from(e.dataTransfer.files||[]);if(0===t.length)return;let a=t.map((e,t)=>U(e,t));F(e=>[...e,...a]),R("attachments")},onDragOver:e=>e.preventDefault(),onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},children:[(0,s.jsxs)("div",{className:"upload-content",children:[(0,s.jsx)("div",{className:"upload-icon",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{stroke:"#272727"},width:"55",height:"55",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.8",d:"M12 16V4m0 0l-4 4m4-4l4 4M4 16v4h16v-4"})})}),(0,s.jsxs)("p",{children:["Drag and drop files here",(0,s.jsx)("br",{}),"or click to upload"]}),(0,s.jsx)("small",{children:"Supported: .pdf, .doc, .xml, .jpeg (Max 10MB)"})]}),(0,s.jsx)("input",{type:"file",id:"fileInput",hidden:!0,multiple:!0,ref:x,onChange:e=>{let t=Array.from(e.target.files||[]);if(0===t.length)return;let a=t.map((e,t)=>U(e,t));F(e=>[...e,...a]),e.target.value="",R("attachments")}})]}),(0,s.jsx)("div",{className:"uploaded-files-preview d-flex align-items-center gap-2 flex-wrap mt-4",children:_.map(e=>(0,s.jsx)("div",{className:"uploaded-file-card d-flex align-items-center justify-content-center gap-2",style:{width:"50px",height:"50px",borderRadius:"4px",overflow:"hidden",backgroundColor:"transparent",padding:"6px",objectFit:"contain",border:"1px solid #B7C627",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:e.name.endsWith(".pdf")?(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg",width:50,height:50,alt:"PDF",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.name.endsWith(".doc")||e.name.endsWith(".docx")?(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/4/43/Microsoft_Word_2013_logo.svg",width:50,height:50,alt:"DOC",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.url?(0,s.jsx)(l.default,{src:e.url,width:50,height:50,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},unoptimized:!0}):(0,s.jsx)(l.default,{src:"https://upload.wikimedia.org/wikipedia/commons/4/48/Image_file_icon.svg",width:50,height:50,alt:"File",style:{width:"100%",height:"100%",objectFit:"cover"}})},e.id))})]})})]})})]})})}),(0,s.jsx)(c.Z,{})]})}},62562:function(){},91748:function(){},5360:function(){}},function(e){e.O(0,[9412,8305,6628,2112,8038,5501,2333,4974,8704,237,8148,2971,7023,1744],function(){return e(e.s=16309)}),_N_E=e.O()}]);