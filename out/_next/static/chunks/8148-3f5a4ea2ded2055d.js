(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8148],{18148:function(e,a,s){"use strict";s.d(a,{Z:function(){return i}});var l=s(57437),t=s(2265),n=s(87138),r=s(66648),o=s(16463);function i(){let e=(0,o.useRouter)(),a=(0,o.usePathname)(),[s,i]=(0,t.useState)({role:null,resolved:!1});(0,t.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("role");console.log(a),i({role:e&&a?a:null,resolved:!0})},[]),(0,t.useEffect)(()=>{let e=localStorage.getItem("token");(async()=>{try{let a=await fetch("".concat("https://api.ezsubcontractor.com/api/","common/get-profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),s=await a.json();console.log(s),localStorage.setItem("userName",s.data.name),localStorage.setItem("userEmail",s.data.email)}catch(e){localStorage.removeItem("token"),localStorage.removeItem("role")}})()},[e]);let{role:c,resolved:d}=s,m=!!c;return d?(0,l.jsx)("nav",{className:"navbar navbar-expand-lg shadow-sm",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(n.default,{className:"navbar-brand",href:"/",children:(0,l.jsx)(r.default,{src:"/assets/img/icons/logo.webp",width:234,height:67,alt:"Logo",priority:!0})}),(0,l.jsxs)("div",{className:"d-flex gap-1",children:[!m&&(0,l.jsx)(n.default,{href:"/auth/login",className:"btn btn-outline-dark px-3 rounded-3 border-0 d-lg-none",children:(0,l.jsx)(r.default,{src:"/assets/img/user.svg",width:20,height:20,alt:"Login"})}),(0,l.jsx)("button",{className:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})})]}),(0,l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(a.startsWith("/general-contractor")||"/messages"===a&&"general-contractor"===c)&&(0,l.jsxs)("ul",{className:"navbar-nav mx-auto mb-2 mb-lg-0 rounded-3 px-lg-2 py-lg-2",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/general-contractor/dashboard",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/messages",children:"Messages"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/general-contractor/my-projects",children:"My Projects"})})]}),(a.startsWith("/subcontractor")||"/messages"===a&&"subcontractor"===c||"/subscription-list"===a&&"subcontractor"===c)&&(0,l.jsxs)("ul",{className:"navbar-nav mx-auto mb-2 mb-lg-0 rounded-3 px-lg-2 py-lg-2",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/subcontractor/dashboard",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/messages",children:"Messages"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/subcontractor/rating",children:"Ratings"})})]}),(a.startsWith("/affiliate")||"/messages"===a&&"affiliate"===c||"/subscription-list"===a&&"affiliate"===c)&&(0,l.jsxs)("ul",{className:"navbar-nav mx-auto mb-2 mb-lg-0 rounded-3 px-lg-2 py-lg-2",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/affiliate/dashboard",children:"Dashboard"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/messages",children:"Messages"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/affiliate/ad-posted",children:"My Ads"})})]}),["/","/home-general-contractor","/home-subcontractor","/home-affiliate"].includes(a)&&(0,l.jsxs)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0 rounded-3 px-lg-2 py-lg-2",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(n.default,{className:"nav-link",href:"/",children:"Home"})}),(0,l.jsxs)("li",{className:"nav-item dropdown",children:[(0,l.jsx)(n.default,{className:"nav-link dropdown-toggle",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",href:"#",children:"Free Trial"}),(0,l.jsxs)("ul",{className:"dropdown-menu",children:[(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-subcontractor",className:"dropdown-item d-flex align-items-center",children:"Subcontractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-affiliate",className:"dropdown-item d-flex align-items-center",children:"Affiliate"})})]})]}),(0,l.jsxs)("li",{className:"nav-item dropdown",children:[(0,l.jsx)(n.default,{className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",href:"#",children:"How It Works"}),(0,l.jsxs)("ul",{className:"dropdown-menu",children:[(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-subcontractor",className:"dropdown-item d-flex align-items-center",children:"General Contractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-subcontractor",className:"dropdown-item d-flex align-items-center",children:"Subcontractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-affiliate",className:"dropdown-item d-flex align-items-center",children:"Affiliate"})})]})]}),(0,l.jsxs)("li",{className:"nav-item dropdown",children:[(0,l.jsx)(n.default,{className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",href:"#",children:"Blogs"}),(0,l.jsxs)("ul",{className:"dropdown-menu",children:[(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-subcontractor",className:"dropdown-item d-flex align-items-center",children:"General Contractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-subcontractor",className:"dropdown-item d-flex align-items-center",children:"Subcontractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)(n.default,{href:"/home-affiliate",className:"dropdown-item d-flex align-items-center ",children:"Affiliate"})})]})]}),(0,l.jsxs)("li",{className:"nav-item dropdown",children:[(0,l.jsx)(n.default,{className:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Contractor"}),(0,l.jsxs)("ul",{className:"dropdown-menu",children:[(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",className:"dropdown-item ".concat("general-contractor"===c?"bg-primary text-white":""),onClick:a=>{a.preventDefault(),localStorage.setItem("role","general-contractor"),i({role:"general-contractor",resolved:!0}),e.push("/home-general-contractor")},children:"General Contractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",className:"dropdown-item ".concat("subcontractor"===c?"bg-primary text-white":""),onClick:a=>{a.preventDefault(),localStorage.setItem("role","subcontractor"),i({role:"subcontractor",resolved:!0}),e.push("/home-subcontractor")},children:"Subcontractor"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",className:"dropdown-item ".concat("affiliate"===c?"bg-primary text-white":""),onClick:a=>{a.preventDefault(),localStorage.setItem("role","affiliate"),i({role:"affiliate",resolved:!0}),e.push("/home-affiliate")},children:"Affiliate"})})]})]})]})]}),m?(0,l.jsxs)("div",{className:"icon-buttons d-flex align-items-center gap-2",children:[(0,l.jsxs)("div",{className:"dropdown hide-arrow",children:[(0,l.jsx)(n.default,{href:"#",className:"nav-link icon dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,l.jsx)(r.default,{src:"/assets/img/icons/notification-dark.svg",width:24,height:24,alt:"Notifications"})}),(0,l.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",style:{minWidth:"300px"},children:[(0,l.jsx)("li",{children:(0,l.jsx)("span",{className:"fw-bold px-3 border-bottom d-block py-2",children:"Notifications"})}),(0,l.jsx)("li",{children:(0,l.jsxs)("a",{className:"dropdown-item py-2",href:"#",children:[(0,l.jsxs)("span",{className:"d-flex align-items-center justify-content-between w-100",children:[(0,l.jsx)("span",{className:"d-block fw-medium",children:"Success"}),(0,l.jsx)("span",{className:"fs-12",children:"1 hr ago"})]}),(0,l.jsx)("span",{className:"fs-12 opacity-50",children:"You have accessed the app at 07:00 AM"})]})})]})]}),(0,l.jsx)(n.default,{href:"/".concat("general_contractor"===c?"general-contractor":c,"/profile"),className:"nav-link icon","aria-label":"Profile",children:(0,l.jsx)(r.default,{src:"/assets/img/icons/user-dark.svg",width:24,height:24,alt:"Profile"})})]}):(0,l.jsxs)("div",{className:"gap-3 d-none d-lg-flex",children:[(0,l.jsx)(n.default,{href:"/auth/login",className:"btn btn-outline-dark rounded-3",children:"Login"}),(0,l.jsx)(n.default,{href:"/auth/register",className:"btn btn-primary rounded-3",children:"Signup"})]})]})}):(0,l.jsx)("nav",{className:"navbar navbar-expand-lg shadow-sm",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(n.default,{className:"navbar-brand",href:"/",children:(0,l.jsx)(r.default,{src:"/assets/img/icons/logo.webp",width:234,height:67,alt:"Logo",priority:!0})}),(0,l.jsx)("button",{className:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})})]})})}s(71478)},71478:function(){}}]);